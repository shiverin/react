{"ast":null,"code":"'use client';\n\nimport _slicedToArray from \"/workspaces/200508238/develop/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useSafeLayoutEffect } from '@chakra-ui/hooks';\nimport { useState, useEffect, useRef, useCallback } from 'react';\n\nfunction useImage(props) {\n  var loading = props.loading,\n      src = props.src,\n      srcSet = props.srcSet,\n      onLoad = props.onLoad,\n      onError = props.onError,\n      crossOrigin = props.crossOrigin,\n      sizes = props.sizes,\n      ignoreFallback = props.ignoreFallback;\n\n  var _useState = useState(\"pending\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      status = _useState2[0],\n      setStatus = _useState2[1];\n\n  useEffect(function () {\n    setStatus(src ? \"loading\" : \"pending\");\n  }, [src]);\n  var imageRef = useRef(null);\n  var load = useCallback(function () {\n    if (!src) return;\n    flush();\n    var img = new Image();\n    img.src = src;\n    if (crossOrigin) img.crossOrigin = crossOrigin;\n    if (srcSet) img.srcset = srcSet;\n    if (sizes) img.sizes = sizes;\n    if (loading) img.loading = loading;\n\n    img.onload = function (event) {\n      flush();\n      setStatus(\"loaded\");\n      onLoad === null || onLoad === void 0 ? void 0 : onLoad(event);\n    };\n\n    img.onerror = function (error) {\n      flush();\n      setStatus(\"failed\");\n      onError === null || onError === void 0 ? void 0 : onError(error);\n    };\n\n    imageRef.current = img;\n  }, [src, crossOrigin, srcSet, sizes, onLoad, onError, loading]);\n\n  var flush = function flush() {\n    if (imageRef.current) {\n      imageRef.current.onload = null;\n      imageRef.current.onerror = null;\n      imageRef.current = null;\n    }\n  };\n\n  useSafeLayoutEffect(function () {\n    if (ignoreFallback) return void 0;\n\n    if (status === \"loading\") {\n      load();\n    }\n\n    return function () {\n      flush();\n    };\n  }, [status, load, ignoreFallback]);\n  return ignoreFallback ? \"loaded\" : status;\n}\n\nvar shouldShowFallbackImage = function shouldShowFallbackImage(status, fallbackStrategy) {\n  return status !== \"loaded\" && fallbackStrategy === \"beforeLoadOrError\" || status === \"failed\" && fallbackStrategy === \"onError\";\n};\n\nexport { shouldShowFallbackImage, useImage };","map":{"version":3,"names":["useSafeLayoutEffect","useState","useEffect","useRef","useCallback","useImage","props","loading","src","srcSet","onLoad","onError","crossOrigin","sizes","ignoreFallback","status","setStatus","imageRef","load","flush","img","Image","srcset","onload","event","onerror","error","current","shouldShowFallbackImage","fallbackStrategy"],"sources":["/workspaces/200508238/develop/node_modules/@chakra-ui/react/dist/esm/image/use-image.mjs"],"sourcesContent":["'use client';\nimport { useSafeLayoutEffect } from '@chakra-ui/hooks';\nimport { useState, useEffect, useRef, useCallback } from 'react';\n\nfunction useImage(props) {\n  const {\n    loading,\n    src,\n    srcSet,\n    onLoad,\n    onError,\n    crossOrigin,\n    sizes,\n    ignoreFallback\n  } = props;\n  const [status, setStatus] = useState(\"pending\");\n  useEffect(() => {\n    setStatus(src ? \"loading\" : \"pending\");\n  }, [src]);\n  const imageRef = useRef(null);\n  const load = useCallback(() => {\n    if (!src)\n      return;\n    flush();\n    const img = new Image();\n    img.src = src;\n    if (crossOrigin)\n      img.crossOrigin = crossOrigin;\n    if (srcSet)\n      img.srcset = srcSet;\n    if (sizes)\n      img.sizes = sizes;\n    if (loading)\n      img.loading = loading;\n    img.onload = (event) => {\n      flush();\n      setStatus(\"loaded\");\n      onLoad?.(event);\n    };\n    img.onerror = (error) => {\n      flush();\n      setStatus(\"failed\");\n      onError?.(error);\n    };\n    imageRef.current = img;\n  }, [src, crossOrigin, srcSet, sizes, onLoad, onError, loading]);\n  const flush = () => {\n    if (imageRef.current) {\n      imageRef.current.onload = null;\n      imageRef.current.onerror = null;\n      imageRef.current = null;\n    }\n  };\n  useSafeLayoutEffect(() => {\n    if (ignoreFallback)\n      return void 0;\n    if (status === \"loading\") {\n      load();\n    }\n    return () => {\n      flush();\n    };\n  }, [status, load, ignoreFallback]);\n  return ignoreFallback ? \"loaded\" : status;\n}\nconst shouldShowFallbackImage = (status, fallbackStrategy) => status !== \"loaded\" && fallbackStrategy === \"beforeLoadOrError\" || status === \"failed\" && fallbackStrategy === \"onError\";\n\nexport { shouldShowFallbackImage, useImage };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
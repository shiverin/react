{"ast":null,"code":"'use client';\n\nimport { useEventListener } from './use-event-listener.mjs';\n\nfunction isRefObject(val) {\n  return \"current\" in val;\n}\n\nconst isDom = () => typeof window !== \"undefined\";\n\nfunction getPlatform() {\n  const agent = navigator.userAgentData;\n  return agent?.platform ?? navigator.platform;\n}\n\nconst vn = v => isDom() && v.test(navigator.vendor);\n\nconst pt = v => isDom() && v.test(getPlatform());\n\nconst isApple = () => pt(/mac|iphone|ipad|ipod/i);\n\nconst isSafari = () => isApple() && vn(/apple/i);\n\nfunction useFocusOnPointerDown(props) {\n  const {\n    ref,\n    elements,\n    enabled\n  } = props;\n\n  const doc = () => ref.current?.ownerDocument ?? document;\n\n  useEventListener(doc, \"pointerdown\", event => {\n    if (!isSafari() || !enabled) return;\n    const target = event.composedPath?.()?.[0] ?? event.target;\n    const els = elements ?? [ref];\n    const isValidTarget = els.some(elementOrRef => {\n      const el = isRefObject(elementOrRef) ? elementOrRef.current : elementOrRef;\n      return el?.contains(target) || el === target;\n    });\n\n    if (doc().activeElement !== target && isValidTarget) {\n      event.preventDefault();\n      target.focus();\n    }\n  });\n}\n\nexport { useFocusOnPointerDown };","map":{"version":3,"names":["useEventListener","isRefObject","val","isDom","window","getPlatform","agent","navigator","userAgentData","platform","vn","v","test","vendor","pt","isApple","isSafari","useFocusOnPointerDown","props","ref","elements","enabled","doc","current","ownerDocument","document","event","target","composedPath","els","isValidTarget","some","elementOrRef","el","contains","activeElement","preventDefault","focus"],"sources":["/workspaces/200508238/develop/node_modules/@chakra-ui/react/node_modules/@chakra-ui/hooks/dist/esm/use-focus-on-pointer-down.mjs"],"sourcesContent":["'use client';\nimport { useEventListener } from './use-event-listener.mjs';\n\nfunction isRefObject(val) {\n  return \"current\" in val;\n}\nconst isDom = () => typeof window !== \"undefined\";\nfunction getPlatform() {\n  const agent = navigator.userAgentData;\n  return agent?.platform ?? navigator.platform;\n}\nconst vn = (v) => isDom() && v.test(navigator.vendor);\nconst pt = (v) => isDom() && v.test(getPlatform());\nconst isApple = () => pt(/mac|iphone|ipad|ipod/i);\nconst isSafari = () => isApple() && vn(/apple/i);\nfunction useFocusOnPointerDown(props) {\n  const { ref, elements, enabled } = props;\n  const doc = () => ref.current?.ownerDocument ?? document;\n  useEventListener(doc, \"pointerdown\", (event) => {\n    if (!isSafari() || !enabled)\n      return;\n    const target = event.composedPath?.()?.[0] ?? event.target;\n    const els = elements ?? [ref];\n    const isValidTarget = els.some((elementOrRef) => {\n      const el = isRefObject(elementOrRef) ? elementOrRef.current : elementOrRef;\n      return el?.contains(target) || el === target;\n    });\n    if (doc().activeElement !== target && isValidTarget) {\n      event.preventDefault();\n      target.focus();\n    }\n  });\n}\n\nexport { useFocusOnPointerDown };\n"],"mappings":"AAAA;;AACA,SAASA,gBAAT,QAAiC,0BAAjC;;AAEA,SAASC,WAAT,CAAqBC,GAArB,EAA0B;EACxB,OAAO,aAAaA,GAApB;AACD;;AACD,MAAMC,KAAK,GAAG,MAAM,OAAOC,MAAP,KAAkB,WAAtC;;AACA,SAASC,WAAT,GAAuB;EACrB,MAAMC,KAAK,GAAGC,SAAS,CAACC,aAAxB;EACA,OAAOF,KAAK,EAAEG,QAAP,IAAmBF,SAAS,CAACE,QAApC;AACD;;AACD,MAAMC,EAAE,GAAIC,CAAD,IAAOR,KAAK,MAAMQ,CAAC,CAACC,IAAF,CAAOL,SAAS,CAACM,MAAjB,CAA7B;;AACA,MAAMC,EAAE,GAAIH,CAAD,IAAOR,KAAK,MAAMQ,CAAC,CAACC,IAAF,CAAOP,WAAW,EAAlB,CAA7B;;AACA,MAAMU,OAAO,GAAG,MAAMD,EAAE,CAAC,uBAAD,CAAxB;;AACA,MAAME,QAAQ,GAAG,MAAMD,OAAO,MAAML,EAAE,CAAC,QAAD,CAAtC;;AACA,SAASO,qBAAT,CAA+BC,KAA/B,EAAsC;EACpC,MAAM;IAAEC,GAAF;IAAOC,QAAP;IAAiBC;EAAjB,IAA6BH,KAAnC;;EACA,MAAMI,GAAG,GAAG,MAAMH,GAAG,CAACI,OAAJ,EAAaC,aAAb,IAA8BC,QAAhD;;EACAzB,gBAAgB,CAACsB,GAAD,EAAM,aAAN,EAAsBI,KAAD,IAAW;IAC9C,IAAI,CAACV,QAAQ,EAAT,IAAe,CAACK,OAApB,EACE;IACF,MAAMM,MAAM,GAAGD,KAAK,CAACE,YAAN,OAAyB,CAAzB,KAA+BF,KAAK,CAACC,MAApD;IACA,MAAME,GAAG,GAAGT,QAAQ,IAAI,CAACD,GAAD,CAAxB;IACA,MAAMW,aAAa,GAAGD,GAAG,CAACE,IAAJ,CAAUC,YAAD,IAAkB;MAC/C,MAAMC,EAAE,GAAGhC,WAAW,CAAC+B,YAAD,CAAX,GAA4BA,YAAY,CAACT,OAAzC,GAAmDS,YAA9D;MACA,OAAOC,EAAE,EAAEC,QAAJ,CAAaP,MAAb,KAAwBM,EAAE,KAAKN,MAAtC;IACD,CAHqB,CAAtB;;IAIA,IAAIL,GAAG,GAAGa,aAAN,KAAwBR,MAAxB,IAAkCG,aAAtC,EAAqD;MACnDJ,KAAK,CAACU,cAAN;MACAT,MAAM,CAACU,KAAP;IACD;EACF,CAbe,CAAhB;AAcD;;AAED,SAASpB,qBAAT"},"metadata":{},"sourceType":"module"}
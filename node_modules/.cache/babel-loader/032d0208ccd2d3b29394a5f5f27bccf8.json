{"ast":null,"code":"'use client';\n\nimport _objectSpread from \"/workspaces/200508238/develop/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/workspaces/200508238/develop/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/workspaces/200508238/develop/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"focusInputOnChange\", \"clampValueOnBlur\", \"keepWithinRange\", \"min\", \"max\", \"step\", \"isReadOnly\", \"isDisabled\", \"isRequired\", \"isInvalid\", \"pattern\", \"inputMode\", \"allowMouseWheel\", \"id\", \"onChange\", \"precision\", \"name\", \"aria-describedby\", \"aria-label\", \"aria-labelledby\", \"onFocus\", \"onBlur\", \"onInvalid\", \"getAriaValueText\", \"isValidCharacter\", \"format\", \"parse\"];\nimport { useCallbackRef, useCounter, useUpdateEffect, useSafeLayoutEffect, useEventListener, mergeRefs } from '@chakra-ui/hooks';\nimport { callAllHandlers, ariaAttr } from '@chakra-ui/utils';\nimport { useState, useRef, useCallback, useMemo } from 'react';\nimport { useAttributeObserver } from './use-attr-observer.mjs';\nimport { useSpinner } from './use-spinner.mjs';\nvar FLOATING_POINT_REGEX = /^[Ee0-9+\\-.]$/;\n\nfunction isFloatingPointNumericCharacter(character) {\n  return FLOATING_POINT_REGEX.test(character);\n}\n\nfunction isValidNumericKeyboardEvent(event, isValid) {\n  if (event.key == null) return true;\n  var isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n  var isSingleCharacterKey = event.key.length === 1;\n  if (!isSingleCharacterKey || isModifierKey) return true;\n  return isValid(event.key);\n}\n\nfunction useNumberInput() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _props$focusInputOnCh = props.focusInputOnChange,\n      focusInputOnChange = _props$focusInputOnCh === void 0 ? true : _props$focusInputOnCh,\n      _props$clampValueOnBl = props.clampValueOnBlur,\n      clampValueOnBlur = _props$clampValueOnBl === void 0 ? true : _props$clampValueOnBl,\n      _props$keepWithinRang = props.keepWithinRange,\n      keepWithinRange = _props$keepWithinRang === void 0 ? true : _props$keepWithinRang,\n      _props$min = props.min,\n      min = _props$min === void 0 ? Number.MIN_SAFE_INTEGER : _props$min,\n      _props$max = props.max,\n      max = _props$max === void 0 ? Number.MAX_SAFE_INTEGER : _props$max,\n      _props$step = props.step,\n      stepProp = _props$step === void 0 ? 1 : _props$step,\n      isReadOnly = props.isReadOnly,\n      isDisabled = props.isDisabled,\n      isRequired = props.isRequired,\n      isInvalid = props.isInvalid,\n      _props$pattern = props.pattern,\n      pattern = _props$pattern === void 0 ? \"[0-9]*(.[0-9]+)?\" : _props$pattern,\n      _props$inputMode = props.inputMode,\n      inputMode = _props$inputMode === void 0 ? \"decimal\" : _props$inputMode,\n      allowMouseWheel = props.allowMouseWheel,\n      id = props.id,\n      _ = props.onChange,\n      precision = props.precision,\n      name = props.name,\n      ariaDescBy = props[\"aria-describedby\"],\n      ariaLabel = props[\"aria-label\"],\n      ariaLabelledBy = props[\"aria-labelledby\"],\n      onFocusProp = props.onFocus,\n      onBlurProp = props.onBlur,\n      onInvalidProp = props.onInvalid,\n      getAriaValueTextProp = props.getAriaValueText,\n      isValidCharacterProp = props.isValidCharacter,\n      formatValue = props.format,\n      parseValue = props.parse,\n      htmlProps = _objectWithoutProperties(props, _excluded);\n\n  var onFocus = useCallbackRef(onFocusProp);\n  var onBlur = useCallbackRef(onBlurProp);\n  var onInvalid = useCallbackRef(onInvalidProp);\n  var isValidCharacter = useCallbackRef(isValidCharacterProp !== null && isValidCharacterProp !== void 0 ? isValidCharacterProp : isFloatingPointNumericCharacter);\n  var getAriaValueText = useCallbackRef(getAriaValueTextProp);\n  var counter = useCounter(props);\n  var updateFn = counter.update,\n      incrementFn = counter.increment,\n      decrementFn = counter.decrement;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isFocused = _useState2[0],\n      setFocused = _useState2[1];\n\n  var isInteractive = !(isReadOnly || isDisabled);\n  var inputRef = useRef(null);\n  var inputSelectionRef = useRef(null);\n  var incrementButtonRef = useRef(null);\n  var decrementButtonRef = useRef(null);\n  var sanitize = useCallback(function (value) {\n    return value.split(\"\").filter(isValidCharacter).join(\"\");\n  }, [isValidCharacter]);\n  var parse = useCallback(function (value) {\n    var _parseValue;\n\n    return (_parseValue = parseValue === null || parseValue === void 0 ? void 0 : parseValue(value)) !== null && _parseValue !== void 0 ? _parseValue : value;\n  }, [parseValue]);\n  var format = useCallback(function (value) {\n    var _formatValue;\n\n    return ((_formatValue = formatValue === null || formatValue === void 0 ? void 0 : formatValue(value)) !== null && _formatValue !== void 0 ? _formatValue : value).toString();\n  }, [formatValue]);\n  useUpdateEffect(function () {\n    if (counter.valueAsNumber > max) {\n      onInvalid === null || onInvalid === void 0 ? void 0 : onInvalid(\"rangeOverflow\", format(counter.value), counter.valueAsNumber);\n    } else if (counter.valueAsNumber < min) {\n      onInvalid === null || onInvalid === void 0 ? void 0 : onInvalid(\"rangeOverflow\", format(counter.value), counter.valueAsNumber);\n    }\n  }, [counter.valueAsNumber, counter.value, format, onInvalid]);\n  useSafeLayoutEffect(function () {\n    if (!inputRef.current) return;\n    var notInSync = inputRef.current.value != counter.value;\n\n    if (notInSync) {\n      var parsedInput = parse(inputRef.current.value);\n      counter.setValue(sanitize(parsedInput));\n    }\n  }, [parse, sanitize]);\n  var increment = useCallback(function () {\n    var step = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : stepProp;\n\n    if (isInteractive) {\n      incrementFn(step);\n    }\n  }, [incrementFn, isInteractive, stepProp]);\n  var decrement = useCallback(function () {\n    var step = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : stepProp;\n\n    if (isInteractive) {\n      decrementFn(step);\n    }\n  }, [decrementFn, isInteractive, stepProp]);\n  var spinner = useSpinner(increment, decrement);\n  useAttributeObserver(incrementButtonRef, \"disabled\", spinner.stop, spinner.isSpinning);\n  useAttributeObserver(decrementButtonRef, \"disabled\", spinner.stop, spinner.isSpinning);\n  var onChange = useCallback(function (event) {\n    var evt = event.nativeEvent;\n    if (evt.isComposing) return;\n    var parsedInput = parse(event.currentTarget.value);\n    updateFn(sanitize(parsedInput));\n    inputSelectionRef.current = {\n      start: event.currentTarget.selectionStart,\n      end: event.currentTarget.selectionEnd\n    };\n  }, [updateFn, sanitize, parse]);\n\n  var _onFocus = useCallback(function (event) {\n    var _inputSelectionRef$cu, _event$currentTarget$, _inputSelectionRef$cu2;\n\n    onFocus === null || onFocus === void 0 ? void 0 : onFocus(event);\n    if (!inputSelectionRef.current) return;\n    event.currentTarget.selectionStart = (_inputSelectionRef$cu = inputSelectionRef.current.start) !== null && _inputSelectionRef$cu !== void 0 ? _inputSelectionRef$cu : (_event$currentTarget$ = event.currentTarget.value) === null || _event$currentTarget$ === void 0 ? void 0 : _event$currentTarget$.length;\n    event.currentTarget.selectionEnd = (_inputSelectionRef$cu2 = inputSelectionRef.current.end) !== null && _inputSelectionRef$cu2 !== void 0 ? _inputSelectionRef$cu2 : event.currentTarget.selectionStart;\n  }, [onFocus]);\n\n  var onKeyDown = useCallback(function (e) {\n    if (e.nativeEvent.isComposing) return;\n\n    if (!isValidNumericKeyboardEvent(e, isValidCharacter)) {\n      e.preventDefault();\n    }\n\n    var stepFactor = getStepFactor(e) * stepProp;\n    var eventKey = e.key;\n    var keyMap = {\n      ArrowUp: function ArrowUp() {\n        return increment(stepFactor);\n      },\n      ArrowDown: function ArrowDown() {\n        return decrement(stepFactor);\n      },\n      Home: function Home() {\n        return updateFn(min);\n      },\n      End: function End() {\n        return updateFn(max);\n      }\n    };\n    var action = keyMap[eventKey];\n\n    if (action) {\n      e.preventDefault();\n      action(e);\n    }\n  }, [isValidCharacter, stepProp, increment, decrement, updateFn, min, max]);\n\n  var getStepFactor = function getStepFactor(event) {\n    var ratio = 1;\n\n    if (event.metaKey || event.ctrlKey) {\n      ratio = 0.1;\n    }\n\n    if (event.shiftKey) {\n      ratio = 10;\n    }\n\n    return ratio;\n  };\n\n  var ariaValueText = useMemo(function () {\n    var text = getAriaValueText === null || getAriaValueText === void 0 ? void 0 : getAriaValueText(counter.value);\n    if (text != null) return text;\n    var defaultText = counter.value.toString();\n    return !defaultText ? void 0 : defaultText;\n  }, [counter.value, getAriaValueText]);\n  var validateAndClamp = useCallback(function () {\n    var next = counter.value;\n    if (counter.value === \"\") return;\n    var valueStartsWithE = /^[eE]/.test(counter.value.toString());\n\n    if (valueStartsWithE) {\n      counter.setValue(\"\");\n    } else {\n      if (counter.valueAsNumber < min) {\n        next = min;\n      }\n\n      if (counter.valueAsNumber > max) {\n        next = max;\n      }\n\n      counter.cast(next);\n    }\n  }, [counter, max, min]);\n  var onInputBlur = useCallback(function () {\n    setFocused(false);\n\n    if (clampValueOnBlur) {\n      validateAndClamp();\n    }\n  }, [clampValueOnBlur, setFocused, validateAndClamp]);\n  var focusInput = useCallback(function () {\n    if (focusInputOnChange) {\n      requestAnimationFrame(function () {\n        var _inputRef$current;\n\n        (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n      });\n    }\n  }, [focusInputOnChange]);\n  var spinUp = useCallback(function (event) {\n    event.preventDefault();\n    spinner.up();\n    focusInput();\n  }, [focusInput, spinner]);\n  var spinDown = useCallback(function (event) {\n    event.preventDefault();\n    spinner.down();\n    focusInput();\n  }, [focusInput, spinner]);\n  useEventListener(function () {\n    return inputRef.current;\n  }, \"wheel\", function (event) {\n    var _inputRef$current$own, _inputRef$current2;\n\n    var doc = (_inputRef$current$own = (_inputRef$current2 = inputRef.current) === null || _inputRef$current2 === void 0 ? void 0 : _inputRef$current2.ownerDocument) !== null && _inputRef$current$own !== void 0 ? _inputRef$current$own : document;\n    var isInputFocused = doc.activeElement === inputRef.current;\n    if (!allowMouseWheel || !isInputFocused) return;\n    event.preventDefault();\n    var stepFactor = getStepFactor(event) * stepProp;\n    var direction = Math.sign(event.deltaY);\n\n    if (direction === -1) {\n      increment(stepFactor);\n    } else if (direction === 1) {\n      decrement(stepFactor);\n    }\n  }, {\n    passive: false\n  });\n  var getIncrementButtonProps = useCallback(function () {\n    var props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var disabled = isDisabled || keepWithinRange && counter.isAtMax;\n    return _objectSpread(_objectSpread({}, props2), {}, {\n      ref: mergeRefs(ref, incrementButtonRef),\n      role: \"button\",\n      tabIndex: -1,\n      onPointerDown: callAllHandlers(props2.onPointerDown, function (event) {\n        if (event.button !== 0 || disabled) return;\n        spinUp(event);\n      }),\n      onPointerLeave: callAllHandlers(props2.onPointerLeave, spinner.stop),\n      onPointerUp: callAllHandlers(props2.onPointerUp, spinner.stop),\n      disabled: disabled,\n      \"aria-disabled\": ariaAttr(disabled)\n    });\n  }, [counter.isAtMax, keepWithinRange, spinUp, spinner.stop, isDisabled]);\n  var getDecrementButtonProps = useCallback(function () {\n    var props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var disabled = isDisabled || keepWithinRange && counter.isAtMin;\n    return _objectSpread(_objectSpread({}, props2), {}, {\n      ref: mergeRefs(ref, decrementButtonRef),\n      role: \"button\",\n      tabIndex: -1,\n      onPointerDown: callAllHandlers(props2.onPointerDown, function (event) {\n        if (event.button !== 0 || disabled) return;\n        spinDown(event);\n      }),\n      onPointerLeave: callAllHandlers(props2.onPointerLeave, spinner.stop),\n      onPointerUp: callAllHandlers(props2.onPointerUp, spinner.stop),\n      disabled: disabled,\n      \"aria-disabled\": ariaAttr(disabled)\n    });\n  }, [counter.isAtMin, keepWithinRange, spinDown, spinner.stop, isDisabled]);\n  var getInputProps = useCallback(function () {\n    var _props2$readOnly, _props2$readOnly2, _props2$required, _props2$required2;\n\n    var props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    return _objectSpread(_objectSpread({\n      name: name,\n      inputMode: inputMode,\n      type: \"text\",\n      pattern: pattern,\n      \"aria-labelledby\": ariaLabelledBy,\n      \"aria-label\": ariaLabel,\n      \"aria-describedby\": ariaDescBy,\n      id: id,\n      disabled: isDisabled,\n      role: \"spinbutton\"\n    }, props2), {}, {\n      readOnly: (_props2$readOnly = props2.readOnly) !== null && _props2$readOnly !== void 0 ? _props2$readOnly : isReadOnly,\n      \"aria-readonly\": (_props2$readOnly2 = props2.readOnly) !== null && _props2$readOnly2 !== void 0 ? _props2$readOnly2 : isReadOnly,\n      \"aria-required\": (_props2$required = props2.required) !== null && _props2$required !== void 0 ? _props2$required : isRequired,\n      required: (_props2$required2 = props2.required) !== null && _props2$required2 !== void 0 ? _props2$required2 : isRequired,\n      ref: mergeRefs(inputRef, ref),\n      value: format(counter.value),\n      \"aria-valuemin\": min,\n      \"aria-valuemax\": max,\n      \"aria-valuenow\": Number.isNaN(counter.valueAsNumber) ? void 0 : counter.valueAsNumber,\n      \"aria-invalid\": ariaAttr(isInvalid !== null && isInvalid !== void 0 ? isInvalid : counter.isOutOfRange),\n      \"aria-valuetext\": ariaValueText,\n      autoComplete: \"off\",\n      autoCorrect: \"off\",\n      onChange: callAllHandlers(props2.onChange, onChange),\n      onKeyDown: callAllHandlers(props2.onKeyDown, onKeyDown),\n      onFocus: callAllHandlers(props2.onFocus, _onFocus, function () {\n        return setFocused(true);\n      }),\n      onBlur: callAllHandlers(props2.onBlur, onBlur, onInputBlur)\n    });\n  }, [name, inputMode, pattern, ariaLabelledBy, ariaLabel, format, ariaDescBy, id, isDisabled, isRequired, isReadOnly, isInvalid, counter.value, counter.valueAsNumber, counter.isOutOfRange, min, max, ariaValueText, onChange, onKeyDown, _onFocus, onBlur, onInputBlur]);\n  return {\n    value: format(counter.value),\n    valueAsNumber: counter.valueAsNumber,\n    isFocused: isFocused,\n    isDisabled: isDisabled,\n    isReadOnly: isReadOnly,\n    getIncrementButtonProps: getIncrementButtonProps,\n    getDecrementButtonProps: getDecrementButtonProps,\n    getInputProps: getInputProps,\n    htmlProps: htmlProps\n  };\n}\n\nexport { useNumberInput };","map":{"version":3,"names":["useCallbackRef","useCounter","useUpdateEffect","useSafeLayoutEffect","useEventListener","mergeRefs","callAllHandlers","ariaAttr","useState","useRef","useCallback","useMemo","useAttributeObserver","useSpinner","FLOATING_POINT_REGEX","isFloatingPointNumericCharacter","character","test","isValidNumericKeyboardEvent","event","isValid","key","isModifierKey","ctrlKey","altKey","metaKey","isSingleCharacterKey","length","useNumberInput","props","focusInputOnChange","clampValueOnBlur","keepWithinRange","min","Number","MIN_SAFE_INTEGER","max","MAX_SAFE_INTEGER","step","stepProp","isReadOnly","isDisabled","isRequired","isInvalid","pattern","inputMode","allowMouseWheel","id","_","onChange","precision","name","ariaDescBy","ariaLabel","ariaLabelledBy","onFocusProp","onFocus","onBlurProp","onBlur","onInvalidProp","onInvalid","getAriaValueTextProp","getAriaValueText","isValidCharacterProp","isValidCharacter","formatValue","format","parseValue","parse","htmlProps","counter","updateFn","update","incrementFn","increment","decrementFn","decrement","isFocused","setFocused","isInteractive","inputRef","inputSelectionRef","incrementButtonRef","decrementButtonRef","sanitize","value","split","filter","join","toString","valueAsNumber","current","notInSync","parsedInput","setValue","spinner","stop","isSpinning","evt","nativeEvent","isComposing","currentTarget","start","selectionStart","end","selectionEnd","_onFocus","onKeyDown","e","preventDefault","stepFactor","getStepFactor","eventKey","keyMap","ArrowUp","ArrowDown","Home","End","action","ratio","shiftKey","ariaValueText","text","defaultText","validateAndClamp","next","valueStartsWithE","cast","onInputBlur","focusInput","requestAnimationFrame","focus","spinUp","up","spinDown","down","doc","ownerDocument","document","isInputFocused","activeElement","direction","Math","sign","deltaY","passive","getIncrementButtonProps","props2","ref","disabled","isAtMax","role","tabIndex","onPointerDown","button","onPointerLeave","onPointerUp","getDecrementButtonProps","isAtMin","getInputProps","type","readOnly","required","isNaN","isOutOfRange","autoComplete","autoCorrect"],"sources":["/workspaces/200508238/develop/node_modules/@chakra-ui/react/dist/esm/number-input/use-number-input.mjs"],"sourcesContent":["'use client';\nimport { useCallbackRef, useCounter, useUpdateEffect, useSafeLayoutEffect, useEventListener, mergeRefs } from '@chakra-ui/hooks';\nimport { callAllHandlers, ariaAttr } from '@chakra-ui/utils';\nimport { useState, useRef, useCallback, useMemo } from 'react';\nimport { useAttributeObserver } from './use-attr-observer.mjs';\nimport { useSpinner } from './use-spinner.mjs';\n\nconst FLOATING_POINT_REGEX = /^[Ee0-9+\\-.]$/;\nfunction isFloatingPointNumericCharacter(character) {\n  return FLOATING_POINT_REGEX.test(character);\n}\nfunction isValidNumericKeyboardEvent(event, isValid) {\n  if (event.key == null)\n    return true;\n  const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n  const isSingleCharacterKey = event.key.length === 1;\n  if (!isSingleCharacterKey || isModifierKey)\n    return true;\n  return isValid(event.key);\n}\nfunction useNumberInput(props = {}) {\n  const {\n    focusInputOnChange = true,\n    clampValueOnBlur = true,\n    keepWithinRange = true,\n    min = Number.MIN_SAFE_INTEGER,\n    max = Number.MAX_SAFE_INTEGER,\n    step: stepProp = 1,\n    isReadOnly,\n    isDisabled,\n    isRequired,\n    isInvalid,\n    pattern = \"[0-9]*(.[0-9]+)?\",\n    inputMode = \"decimal\",\n    allowMouseWheel,\n    id,\n    onChange: _,\n    precision,\n    name,\n    \"aria-describedby\": ariaDescBy,\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabelledBy,\n    onFocus: onFocusProp,\n    onBlur: onBlurProp,\n    onInvalid: onInvalidProp,\n    getAriaValueText: getAriaValueTextProp,\n    isValidCharacter: isValidCharacterProp,\n    format: formatValue,\n    parse: parseValue,\n    ...htmlProps\n  } = props;\n  const onFocus = useCallbackRef(onFocusProp);\n  const onBlur = useCallbackRef(onBlurProp);\n  const onInvalid = useCallbackRef(onInvalidProp);\n  const isValidCharacter = useCallbackRef(\n    isValidCharacterProp ?? isFloatingPointNumericCharacter\n  );\n  const getAriaValueText = useCallbackRef(getAriaValueTextProp);\n  const counter = useCounter(props);\n  const {\n    update: updateFn,\n    increment: incrementFn,\n    decrement: decrementFn\n  } = counter;\n  const [isFocused, setFocused] = useState(false);\n  const isInteractive = !(isReadOnly || isDisabled);\n  const inputRef = useRef(null);\n  const inputSelectionRef = useRef(null);\n  const incrementButtonRef = useRef(null);\n  const decrementButtonRef = useRef(null);\n  const sanitize = useCallback(\n    (value) => value.split(\"\").filter(isValidCharacter).join(\"\"),\n    [isValidCharacter]\n  );\n  const parse = useCallback(\n    (value) => parseValue?.(value) ?? value,\n    [parseValue]\n  );\n  const format = useCallback(\n    (value) => (formatValue?.(value) ?? value).toString(),\n    [formatValue]\n  );\n  useUpdateEffect(() => {\n    if (counter.valueAsNumber > max) {\n      onInvalid?.(\"rangeOverflow\", format(counter.value), counter.valueAsNumber);\n    } else if (counter.valueAsNumber < min) {\n      onInvalid?.(\"rangeOverflow\", format(counter.value), counter.valueAsNumber);\n    }\n  }, [counter.valueAsNumber, counter.value, format, onInvalid]);\n  useSafeLayoutEffect(() => {\n    if (!inputRef.current)\n      return;\n    const notInSync = inputRef.current.value != counter.value;\n    if (notInSync) {\n      const parsedInput = parse(inputRef.current.value);\n      counter.setValue(sanitize(parsedInput));\n    }\n  }, [parse, sanitize]);\n  const increment = useCallback(\n    (step = stepProp) => {\n      if (isInteractive) {\n        incrementFn(step);\n      }\n    },\n    [incrementFn, isInteractive, stepProp]\n  );\n  const decrement = useCallback(\n    (step = stepProp) => {\n      if (isInteractive) {\n        decrementFn(step);\n      }\n    },\n    [decrementFn, isInteractive, stepProp]\n  );\n  const spinner = useSpinner(increment, decrement);\n  useAttributeObserver(\n    incrementButtonRef,\n    \"disabled\",\n    spinner.stop,\n    spinner.isSpinning\n  );\n  useAttributeObserver(\n    decrementButtonRef,\n    \"disabled\",\n    spinner.stop,\n    spinner.isSpinning\n  );\n  const onChange = useCallback(\n    (event) => {\n      const evt = event.nativeEvent;\n      if (evt.isComposing)\n        return;\n      const parsedInput = parse(event.currentTarget.value);\n      updateFn(sanitize(parsedInput));\n      inputSelectionRef.current = {\n        start: event.currentTarget.selectionStart,\n        end: event.currentTarget.selectionEnd\n      };\n    },\n    [updateFn, sanitize, parse]\n  );\n  const _onFocus = useCallback(\n    (event) => {\n      onFocus?.(event);\n      if (!inputSelectionRef.current)\n        return;\n      event.currentTarget.selectionStart = inputSelectionRef.current.start ?? event.currentTarget.value?.length;\n      event.currentTarget.selectionEnd = inputSelectionRef.current.end ?? event.currentTarget.selectionStart;\n    },\n    [onFocus]\n  );\n  const onKeyDown = useCallback(\n    (e) => {\n      if (e.nativeEvent.isComposing)\n        return;\n      if (!isValidNumericKeyboardEvent(e, isValidCharacter)) {\n        e.preventDefault();\n      }\n      const stepFactor = getStepFactor(e) * stepProp;\n      const eventKey = e.key;\n      const keyMap = {\n        ArrowUp: () => increment(stepFactor),\n        ArrowDown: () => decrement(stepFactor),\n        Home: () => updateFn(min),\n        End: () => updateFn(max)\n      };\n      const action = keyMap[eventKey];\n      if (action) {\n        e.preventDefault();\n        action(e);\n      }\n    },\n    [isValidCharacter, stepProp, increment, decrement, updateFn, min, max]\n  );\n  const getStepFactor = (event) => {\n    let ratio = 1;\n    if (event.metaKey || event.ctrlKey) {\n      ratio = 0.1;\n    }\n    if (event.shiftKey) {\n      ratio = 10;\n    }\n    return ratio;\n  };\n  const ariaValueText = useMemo(() => {\n    const text = getAriaValueText?.(counter.value);\n    if (text != null)\n      return text;\n    const defaultText = counter.value.toString();\n    return !defaultText ? void 0 : defaultText;\n  }, [counter.value, getAriaValueText]);\n  const validateAndClamp = useCallback(() => {\n    let next = counter.value;\n    if (counter.value === \"\")\n      return;\n    const valueStartsWithE = /^[eE]/.test(counter.value.toString());\n    if (valueStartsWithE) {\n      counter.setValue(\"\");\n    } else {\n      if (counter.valueAsNumber < min) {\n        next = min;\n      }\n      if (counter.valueAsNumber > max) {\n        next = max;\n      }\n      counter.cast(next);\n    }\n  }, [counter, max, min]);\n  const onInputBlur = useCallback(() => {\n    setFocused(false);\n    if (clampValueOnBlur) {\n      validateAndClamp();\n    }\n  }, [clampValueOnBlur, setFocused, validateAndClamp]);\n  const focusInput = useCallback(() => {\n    if (focusInputOnChange) {\n      requestAnimationFrame(() => {\n        inputRef.current?.focus();\n      });\n    }\n  }, [focusInputOnChange]);\n  const spinUp = useCallback(\n    (event) => {\n      event.preventDefault();\n      spinner.up();\n      focusInput();\n    },\n    [focusInput, spinner]\n  );\n  const spinDown = useCallback(\n    (event) => {\n      event.preventDefault();\n      spinner.down();\n      focusInput();\n    },\n    [focusInput, spinner]\n  );\n  useEventListener(\n    () => inputRef.current,\n    \"wheel\",\n    (event) => {\n      const doc = inputRef.current?.ownerDocument ?? document;\n      const isInputFocused = doc.activeElement === inputRef.current;\n      if (!allowMouseWheel || !isInputFocused)\n        return;\n      event.preventDefault();\n      const stepFactor = getStepFactor(event) * stepProp;\n      const direction = Math.sign(event.deltaY);\n      if (direction === -1) {\n        increment(stepFactor);\n      } else if (direction === 1) {\n        decrement(stepFactor);\n      }\n    },\n    { passive: false }\n  );\n  const getIncrementButtonProps = useCallback(\n    (props2 = {}, ref = null) => {\n      const disabled = isDisabled || keepWithinRange && counter.isAtMax;\n      return {\n        ...props2,\n        ref: mergeRefs(ref, incrementButtonRef),\n        role: \"button\",\n        tabIndex: -1,\n        onPointerDown: callAllHandlers(props2.onPointerDown, (event) => {\n          if (event.button !== 0 || disabled)\n            return;\n          spinUp(event);\n        }),\n        onPointerLeave: callAllHandlers(props2.onPointerLeave, spinner.stop),\n        onPointerUp: callAllHandlers(props2.onPointerUp, spinner.stop),\n        disabled,\n        \"aria-disabled\": ariaAttr(disabled)\n      };\n    },\n    [counter.isAtMax, keepWithinRange, spinUp, spinner.stop, isDisabled]\n  );\n  const getDecrementButtonProps = useCallback(\n    (props2 = {}, ref = null) => {\n      const disabled = isDisabled || keepWithinRange && counter.isAtMin;\n      return {\n        ...props2,\n        ref: mergeRefs(ref, decrementButtonRef),\n        role: \"button\",\n        tabIndex: -1,\n        onPointerDown: callAllHandlers(props2.onPointerDown, (event) => {\n          if (event.button !== 0 || disabled)\n            return;\n          spinDown(event);\n        }),\n        onPointerLeave: callAllHandlers(props2.onPointerLeave, spinner.stop),\n        onPointerUp: callAllHandlers(props2.onPointerUp, spinner.stop),\n        disabled,\n        \"aria-disabled\": ariaAttr(disabled)\n      };\n    },\n    [counter.isAtMin, keepWithinRange, spinDown, spinner.stop, isDisabled]\n  );\n  const getInputProps = useCallback(\n    (props2 = {}, ref = null) => ({\n      name,\n      inputMode,\n      type: \"text\",\n      pattern,\n      \"aria-labelledby\": ariaLabelledBy,\n      \"aria-label\": ariaLabel,\n      \"aria-describedby\": ariaDescBy,\n      id,\n      disabled: isDisabled,\n      role: \"spinbutton\",\n      ...props2,\n      readOnly: props2.readOnly ?? isReadOnly,\n      \"aria-readonly\": props2.readOnly ?? isReadOnly,\n      \"aria-required\": props2.required ?? isRequired,\n      required: props2.required ?? isRequired,\n      ref: mergeRefs(inputRef, ref),\n      value: format(counter.value),\n      \"aria-valuemin\": min,\n      \"aria-valuemax\": max,\n      \"aria-valuenow\": Number.isNaN(counter.valueAsNumber) ? void 0 : counter.valueAsNumber,\n      \"aria-invalid\": ariaAttr(isInvalid ?? counter.isOutOfRange),\n      \"aria-valuetext\": ariaValueText,\n      autoComplete: \"off\",\n      autoCorrect: \"off\",\n      onChange: callAllHandlers(props2.onChange, onChange),\n      onKeyDown: callAllHandlers(props2.onKeyDown, onKeyDown),\n      onFocus: callAllHandlers(\n        props2.onFocus,\n        _onFocus,\n        () => setFocused(true)\n      ),\n      onBlur: callAllHandlers(props2.onBlur, onBlur, onInputBlur)\n    }),\n    [\n      name,\n      inputMode,\n      pattern,\n      ariaLabelledBy,\n      ariaLabel,\n      format,\n      ariaDescBy,\n      id,\n      isDisabled,\n      isRequired,\n      isReadOnly,\n      isInvalid,\n      counter.value,\n      counter.valueAsNumber,\n      counter.isOutOfRange,\n      min,\n      max,\n      ariaValueText,\n      onChange,\n      onKeyDown,\n      _onFocus,\n      onBlur,\n      onInputBlur\n    ]\n  );\n  return {\n    value: format(counter.value),\n    valueAsNumber: counter.valueAsNumber,\n    isFocused,\n    isDisabled,\n    isReadOnly,\n    getIncrementButtonProps,\n    getDecrementButtonProps,\n    getInputProps,\n    htmlProps\n  };\n}\n\nexport { useNumberInput };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
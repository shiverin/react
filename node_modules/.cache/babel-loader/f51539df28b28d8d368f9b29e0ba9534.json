{"ast":null,"code":"import _toConsumableArray from \"/workspaces/200508238/develop/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/workspaces/200508238/develop/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\n// src/track-size.ts\nfunction trackElementSize(element, callback) {\n  var _element$ownerDocumen;\n\n  if (!element) {\n    callback(void 0);\n    return;\n  }\n\n  callback({\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  });\n  var win = (_element$ownerDocumen = element.ownerDocument.defaultView) !== null && _element$ownerDocumen !== void 0 ? _element$ownerDocumen : window;\n  var observer = new win.ResizeObserver(function (entries) {\n    if (!Array.isArray(entries) || !entries.length) return;\n\n    var _entries = _slicedToArray(entries, 1),\n        entry = _entries[0];\n\n    var width;\n    var height;\n\n    if (\"borderBoxSize\" in entry) {\n      var borderSizeEntry = entry[\"borderBoxSize\"];\n      var borderSize = Array.isArray(borderSizeEntry) ? borderSizeEntry[0] : borderSizeEntry;\n      width = borderSize[\"inlineSize\"];\n      height = borderSize[\"blockSize\"];\n    } else {\n      width = element.offsetWidth;\n      height = element.offsetHeight;\n    }\n\n    callback({\n      width: width,\n      height: height\n    });\n  });\n  observer.observe(element, {\n    box: \"border-box\"\n  });\n  return function () {\n    return observer.unobserve(element);\n  };\n} // src/track-sizes.ts\n\n\nfunction trackElementsSize(options) {\n  var getNodes = options.getNodes,\n      _options$observeMutat = options.observeMutation,\n      observeMutation = _options$observeMutat === void 0 ? true : _options$observeMutat,\n      callback = options.callback;\n  var cleanups = [];\n  var firstNode = null;\n\n  function trigger() {\n    var elements = getNodes();\n    firstNode = elements[0];\n    var fns = elements.map(function (element, index) {\n      return trackElementSize(element, function (size) {\n        callback(size, index);\n      });\n    });\n    cleanups.push.apply(cleanups, _toConsumableArray(fns));\n  }\n\n  trigger();\n\n  if (observeMutation) {\n    var fn = trackMutation(firstNode, trigger);\n    cleanups.push(fn);\n  }\n\n  return function () {\n    cleanups.forEach(function (cleanup) {\n      cleanup === null || cleanup === void 0 ? void 0 : cleanup();\n    });\n  };\n}\n\nfunction trackMutation(el, cb) {\n  var _el$ownerDocument$def, _el$ownerDocument;\n\n  if (!el || !el.parentElement) return;\n  var win = (_el$ownerDocument$def = (_el$ownerDocument = el.ownerDocument) === null || _el$ownerDocument === void 0 ? void 0 : _el$ownerDocument.defaultView) !== null && _el$ownerDocument$def !== void 0 ? _el$ownerDocument$def : window;\n  var observer = new win.MutationObserver(function () {\n    cb();\n  });\n  observer.observe(el.parentElement, {\n    childList: true\n  });\n  return function () {\n    observer.disconnect();\n  };\n}\n\nexport { trackElementSize, trackElementsSize };","map":{"version":3,"mappings":";;;;AAOO,SAASA,gBAAT,CAA0BC,OAA1B,EAAuDC,QAAvD,EAAsF;EAAA;;EAC3F,IAAI,CAACD,OAAL,EAAc;IACZC,SAAS,MAAT;IACA;EACF;;EAEAA,SAAS;IAAEC,OAAOF,QAAQG,WAAjB;IAA8BC,QAAQJ,QAAQK;EAA9C,CAAT;EAEA,IAAMC,+BAAMN,QAAQO,aAAR,CAAsBC,WAA5B,yEAA2CC,MAAjD;EAEA,IAAMC,WAAW,IAAIJ,IAAIK,cAAR,CAAuB,UAACC,OAAD,EAAa;IACnD,IAAI,CAACC,MAAMC,OAAN,CAAcF,OAAd,CAAD,IAA2B,CAACA,QAAQG,MAAxC,EAAgD;;IAEhD,8BAAgBH,OAAhB;IAAA,IAAOI,KAAP;;IACA,IAAId,KAAJ;IACA,IAAIE,MAAJ;;IAEA,IAAI,mBAAmBY,KAAvB,EAA8B;MAC5B,IAAMC,kBAAkBD,MAAM,eAAN,CAAxB;MACA,IAAME,aAAaL,MAAMC,OAAN,CAAcG,eAAd,IAAiCA,gBAAgB,CAAhB,CAAjC,GAAsDA,eAAzE;MACAf,QAAQgB,WAAW,YAAX,CAAR;MACAd,SAASc,WAAW,WAAX,CAAT;IACF,CALA,MAKO;MACLhB,QAAQF,QAAQG,WAAhB;MACAC,SAASJ,QAAQK,YAAjB;IACF;;IAEAJ,SAAS;MAAEC,YAAF;MAASE;IAAT,CAAT;EACD,CAlBgB,CAAjB;EAoBAM,SAASS,OAAT,CAAiBnB,OAAjB,EAA0B;IAAEoB,KAAK;EAAP,CAA1B;EAEA,OAAO;IAAA,OAAMV,SAASW,SAAT,CAAmBrB,OAAnB,CAAN;EAAA,CAAP;AACF,C;;;AChCO,SAASsB,iBAAT,CAAyDC,OAAzD,EAA+F;EACpG,IAAQC,QAAR,GAAuDD,OAAvD,CAAQC,QAAR;EAAA,4BAAuDD,OAAvD,CAAkBE,eAAlB;EAAA,IAAkBA,eAAlB,sCAAoC,IAApC;EAAA,IAA0CxB,QAA1C,GAAuDsB,OAAvD,CAA0CtB,QAA1C;EAEA,IAAMyB,WAA4C,EAAlD;EAEA,IAAIC,YAAsB,IAA1B;;EAEA,SAASC,OAAT,GAAmB;IACjB,IAAMC,WAAWL,UAAjB;IACAG,YAAYE,SAAS,CAAT,CAAZ;IACA,IAAMC,MAAMD,SAASE,GAAT,CAAa,UAAC/B,OAAD,EAAUgC,KAAV;MAAA,OACvBjC,iBAAiBC,OAAjB,EAA0B,UAACiC,IAAD,EAAU;QAClChC,SAASgC,IAAT,EAAeD,KAAf;MACD,CAFD,CADuB;IAAA,CAAb,CAAZ;IAKAN,SAASQ,IAAT,oCAAiBJ,GAAjB;EACF;;EAEAF;;EAEA,IAAIH,eAAJ,EAAqB;IACnB,IAAMU,KAAKC,cAAcT,SAAd,EAAyBC,OAAzB,CAAX;IACAF,SAASQ,IAAT,CAAcC,EAAd;EACF;;EAEA,OAAO,YAAM;IACXT,SAASW,OAAT,CAAiB,UAACC,OAAD,EAAa;MAC5BA;IACD,CAFD;EAGF,CAJA;AAKF;;AAEA,SAASF,aAAT,CAAuBG,EAAvB,EAA+CC,EAA/C,EAA+D;EAAA;;EAC7D,IAAI,CAACD,EAAD,IAAO,CAACA,GAAGE,aAAf,EAA8B;EAC9B,IAAMnC,oDAAMiC,GAAGhC,aAAT,sDAAM,kBAAkBC,WAAxB,yEAAuCC,MAA7C;EACA,IAAMC,WAAW,IAAIJ,IAAIoC,gBAAR,CAAyB,YAAM;IAC9CF;EACD,CAFgB,CAAjB;EAGA9B,SAASS,OAAT,CAAiBoB,GAAGE,aAApB,EAAmC;IAAEE,WAAW;EAAb,CAAnC;EACA,OAAO,YAAM;IACXjC,SAASkC,UAAT;EACF,CAFA;AAGF","names":["trackElementSize","element","callback","width","offsetWidth","height","offsetHeight","win","ownerDocument","defaultView","window","observer","ResizeObserver","entries","Array","isArray","length","entry","borderSizeEntry","borderSize","observe","box","unobserve","trackElementsSize","options","getNodes","observeMutation","cleanups","firstNode","trigger","elements","fns","map","index","size","push","fn","trackMutation","forEach","cleanup","el","cb","parentElement","MutationObserver","childList","disconnect"],"sources":["/workspaces/200508238/develop/node_modules/@chakra-ui/react/node_modules/@zag-js/element-size/src/track-size.ts","/workspaces/200508238/develop/node_modules/@chakra-ui/react/node_modules/@zag-js/element-size/src/track-sizes.ts"],"sourcesContent":["export interface ElementSize {\n  width: number\n  height: number\n}\n\nexport type ElementSizeCallback = (size: ElementSize | undefined) => void\n\nexport function trackElementSize(element: HTMLElement | null, callback: ElementSizeCallback) {\n  if (!element) {\n    callback(undefined)\n    return\n  }\n\n  callback({ width: element.offsetWidth, height: element.offsetHeight })\n\n  const win = element.ownerDocument.defaultView ?? window\n\n  const observer = new win.ResizeObserver((entries) => {\n    if (!Array.isArray(entries) || !entries.length) return\n\n    const [entry] = entries\n    let width: number\n    let height: number\n\n    if (\"borderBoxSize\" in entry) {\n      const borderSizeEntry = entry[\"borderBoxSize\"]\n      const borderSize = Array.isArray(borderSizeEntry) ? borderSizeEntry[0] : borderSizeEntry\n      width = borderSize[\"inlineSize\"]\n      height = borderSize[\"blockSize\"]\n    } else {\n      width = element.offsetWidth\n      height = element.offsetHeight\n    }\n\n    callback({ width, height })\n  })\n\n  observer.observe(element, { box: \"border-box\" })\n\n  return () => observer.unobserve(element)\n}\n","import { trackElementSize, type ElementSize } from \"./track-size\"\n\nexport interface TrackElementsSizeOptions<T extends HTMLElement | null> {\n  getNodes: () => T[]\n  observeMutation?: boolean\n  callback: (size: ElementSize | undefined, index: number) => void\n}\n\nexport function trackElementsSize<T extends HTMLElement | null>(options: TrackElementsSizeOptions<T>) {\n  const { getNodes, observeMutation = true, callback } = options\n\n  const cleanups: Array<VoidFunction | undefined> = []\n\n  let firstNode: T | null = null\n\n  function trigger() {\n    const elements = getNodes()\n    firstNode = elements[0]\n    const fns = elements.map((element, index) =>\n      trackElementSize(element, (size) => {\n        callback(size, index)\n      }),\n    )\n    cleanups.push(...fns)\n  }\n\n  trigger()\n\n  if (observeMutation) {\n    const fn = trackMutation(firstNode, trigger)\n    cleanups.push(fn)\n  }\n\n  return () => {\n    cleanups.forEach((cleanup) => {\n      cleanup?.()\n    })\n  }\n}\n\nfunction trackMutation(el: HTMLElement | null, cb: () => void) {\n  if (!el || !el.parentElement) return\n  const win = el.ownerDocument?.defaultView ?? window\n  const observer = new win.MutationObserver(() => {\n    cb()\n  })\n  observer.observe(el.parentElement, { childList: true })\n  return () => {\n    observer.disconnect()\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
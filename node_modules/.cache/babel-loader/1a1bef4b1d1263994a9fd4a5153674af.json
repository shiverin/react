{"ast":null,"code":"'use client';\n\nimport { useEventListener } from './use-event-listener.mjs';\n\nfunction isRefObject(val) {\n  return \"current\" in val;\n}\n\nvar isDom = function isDom() {\n  return typeof window !== \"undefined\";\n};\n\nfunction getPlatform() {\n  var _agent$platform;\n\n  var agent = navigator.userAgentData;\n  return (_agent$platform = agent === null || agent === void 0 ? void 0 : agent.platform) !== null && _agent$platform !== void 0 ? _agent$platform : navigator.platform;\n}\n\nvar vn = function vn(v) {\n  return isDom() && v.test(navigator.vendor);\n};\n\nvar pt = function pt(v) {\n  return isDom() && v.test(getPlatform());\n};\n\nvar isApple = function isApple() {\n  return pt(/mac|iphone|ipad|ipod/i);\n};\n\nvar isSafari = function isSafari() {\n  return isApple() && vn(/apple/i);\n};\n\nfunction useFocusOnPointerDown(props) {\n  var ref = props.ref,\n      elements = props.elements,\n      enabled = props.enabled;\n\n  var doc = function doc() {\n    var _ref$current$ownerDoc, _ref$current;\n\n    return (_ref$current$ownerDoc = (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.ownerDocument) !== null && _ref$current$ownerDoc !== void 0 ? _ref$current$ownerDoc : document;\n  };\n\n  useEventListener(doc, \"pointerdown\", function (event) {\n    var _event$composedPath$, _event$composedPath, _event$composedPath$c;\n\n    if (!isSafari() || !enabled) return;\n    var target = (_event$composedPath$ = (_event$composedPath = event.composedPath) === null || _event$composedPath === void 0 ? void 0 : (_event$composedPath$c = _event$composedPath.call(event)) === null || _event$composedPath$c === void 0 ? void 0 : _event$composedPath$c[0]) !== null && _event$composedPath$ !== void 0 ? _event$composedPath$ : event.target;\n    var els = elements !== null && elements !== void 0 ? elements : [ref];\n    var isValidTarget = els.some(function (elementOrRef) {\n      var el = isRefObject(elementOrRef) ? elementOrRef.current : elementOrRef;\n      return (el === null || el === void 0 ? void 0 : el.contains(target)) || el === target;\n    });\n\n    if (doc().activeElement !== target && isValidTarget) {\n      event.preventDefault();\n      target.focus();\n    }\n  });\n}\n\nexport { useFocusOnPointerDown };","map":{"version":3,"names":["useEventListener","isRefObject","val","isDom","window","getPlatform","agent","navigator","userAgentData","platform","vn","v","test","vendor","pt","isApple","isSafari","useFocusOnPointerDown","props","ref","elements","enabled","doc","current","ownerDocument","document","event","target","composedPath","els","isValidTarget","some","elementOrRef","el","contains","activeElement","preventDefault","focus"],"sources":["/workspaces/200508238/develop/node_modules/@chakra-ui/react/node_modules/@chakra-ui/hooks/dist/esm/use-focus-on-pointer-down.mjs"],"sourcesContent":["'use client';\nimport { useEventListener } from './use-event-listener.mjs';\n\nfunction isRefObject(val) {\n  return \"current\" in val;\n}\nconst isDom = () => typeof window !== \"undefined\";\nfunction getPlatform() {\n  const agent = navigator.userAgentData;\n  return agent?.platform ?? navigator.platform;\n}\nconst vn = (v) => isDom() && v.test(navigator.vendor);\nconst pt = (v) => isDom() && v.test(getPlatform());\nconst isApple = () => pt(/mac|iphone|ipad|ipod/i);\nconst isSafari = () => isApple() && vn(/apple/i);\nfunction useFocusOnPointerDown(props) {\n  const { ref, elements, enabled } = props;\n  const doc = () => ref.current?.ownerDocument ?? document;\n  useEventListener(doc, \"pointerdown\", (event) => {\n    if (!isSafari() || !enabled)\n      return;\n    const target = event.composedPath?.()?.[0] ?? event.target;\n    const els = elements ?? [ref];\n    const isValidTarget = els.some((elementOrRef) => {\n      const el = isRefObject(elementOrRef) ? elementOrRef.current : elementOrRef;\n      return el?.contains(target) || el === target;\n    });\n    if (doc().activeElement !== target && isValidTarget) {\n      event.preventDefault();\n      target.focus();\n    }\n  });\n}\n\nexport { useFocusOnPointerDown };\n"],"mappings":"AAAA;;AACA,SAASA,gBAAT,QAAiC,0BAAjC;;AAEA,SAASC,WAAT,CAAqBC,GAArB,EAA0B;EACxB,OAAO,aAAaA,GAApB;AACD;;AACD,IAAMC,KAAK,GAAG,SAARA,KAAQ;EAAA,OAAM,OAAOC,MAAP,KAAkB,WAAxB;AAAA,CAAd;;AACA,SAASC,WAAT,GAAuB;EAAA;;EACrB,IAAMC,KAAK,GAAGC,SAAS,CAACC,aAAxB;EACA,0BAAOF,KAAP,aAAOA,KAAP,uBAAOA,KAAK,CAAEG,QAAd,6DAA0BF,SAAS,CAACE,QAApC;AACD;;AACD,IAAMC,EAAE,GAAG,SAALA,EAAK,CAACC,CAAD;EAAA,OAAOR,KAAK,MAAMQ,CAAC,CAACC,IAAF,CAAOL,SAAS,CAACM,MAAjB,CAAlB;AAAA,CAAX;;AACA,IAAMC,EAAE,GAAG,SAALA,EAAK,CAACH,CAAD;EAAA,OAAOR,KAAK,MAAMQ,CAAC,CAACC,IAAF,CAAOP,WAAW,EAAlB,CAAlB;AAAA,CAAX;;AACA,IAAMU,OAAO,GAAG,SAAVA,OAAU;EAAA,OAAMD,EAAE,CAAC,uBAAD,CAAR;AAAA,CAAhB;;AACA,IAAME,QAAQ,GAAG,SAAXA,QAAW;EAAA,OAAMD,OAAO,MAAML,EAAE,CAAC,QAAD,CAArB;AAAA,CAAjB;;AACA,SAASO,qBAAT,CAA+BC,KAA/B,EAAsC;EACpC,IAAQC,GAAR,GAAmCD,KAAnC,CAAQC,GAAR;EAAA,IAAaC,QAAb,GAAmCF,KAAnC,CAAaE,QAAb;EAAA,IAAuBC,OAAvB,GAAmCH,KAAnC,CAAuBG,OAAvB;;EACA,IAAMC,GAAG,GAAG,SAANA,GAAM;IAAA;;IAAA,gDAAMH,GAAG,CAACI,OAAV,iDAAM,aAAaC,aAAnB,yEAAoCC,QAApC;EAAA,CAAZ;;EACAzB,gBAAgB,CAACsB,GAAD,EAAM,aAAN,EAAqB,UAACI,KAAD,EAAW;IAAA;;IAC9C,IAAI,CAACV,QAAQ,EAAT,IAAe,CAACK,OAApB,EACE;IACF,IAAMM,MAAM,kDAAGD,KAAK,CAACE,YAAT,iFAAG,yBAAAF,KAAK,CAAR,0DAAG,sBAAyB,CAAzB,CAAH,uEAAkCA,KAAK,CAACC,MAApD;IACA,IAAME,GAAG,GAAGT,QAAH,aAAGA,QAAH,cAAGA,QAAH,GAAe,CAACD,GAAD,CAAxB;IACA,IAAMW,aAAa,GAAGD,GAAG,CAACE,IAAJ,CAAS,UAACC,YAAD,EAAkB;MAC/C,IAAMC,EAAE,GAAGhC,WAAW,CAAC+B,YAAD,CAAX,GAA4BA,YAAY,CAACT,OAAzC,GAAmDS,YAA9D;MACA,OAAO,CAAAC,EAAE,SAAF,IAAAA,EAAE,WAAF,YAAAA,EAAE,CAAEC,QAAJ,CAAaP,MAAb,MAAwBM,EAAE,KAAKN,MAAtC;IACD,CAHqB,CAAtB;;IAIA,IAAIL,GAAG,GAAGa,aAAN,KAAwBR,MAAxB,IAAkCG,aAAtC,EAAqD;MACnDJ,KAAK,CAACU,cAAN;MACAT,MAAM,CAACU,KAAP;IACD;EACF,CAbe,CAAhB;AAcD;;AAED,SAASpB,qBAAT"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import{useState}from\"react\";import emailjs from\"emailjs-com\";import{useAlertContext}from\"../context/alertContext\";const useSubmit=()=>{const[isLoading,setLoading]=useState(false);const{onOpen}=useAlertContext();// <-- YOU NEED THIS\nconst submit=async formData=>{setLoading(true);const templateParams={user_name:formData.firstName,user_email:formData.email,user_contact:formData.contact,message:formData.comment,submission_time:new Date().toLocaleString()};try{await emailjs.send(\"service_exn8agn\",// Replace with your actual service ID\n\"template_ufthmxd\",// Replace with your actual template ID\ntemplateParams,\"jIcCGsH2zf7fnK5X3\"// Replace with your actual PUBLIC key\n);onOpen(\"success\",`Thanks for your submission ${formData.firstName}, we will get back to you shortly!`);}catch(error){console.error(\"EmailJS error:\",error);onOpen(\"error\",\"There was an error sending your message. Please try again later.\");}finally{setLoading(false);}};return{isLoading,submit};};export default useSubmit;","map":{"version":3,"names":["useState","emailjs","useAlertContext","useSubmit","isLoading","setLoading","onOpen","submit","formData","templateParams","user_name","firstName","user_email","email","user_contact","contact","message","comment","submission_time","Date","toLocaleString","send","error","console"],"sources":["/Users/shizhen/Documents/vscode/react/src/hooks/useSubmit.js"],"sourcesContent":["import { useState } from \"react\";\nimport emailjs from \"emailjs-com\";\nimport { useAlertContext } from \"../context/alertContext\";\n\nconst useSubmit = () => {\n  const [isLoading, setLoading] = useState(false);\n  const { onOpen } = useAlertContext(); // <-- YOU NEED THIS\n\n  const submit = async (formData) => {\n    setLoading(true);\n\n    const templateParams = {\n      user_name: formData.firstName,\n      user_email: formData.email,\n      user_contact: formData.contact,\n      message: formData.comment,\n      submission_time: new Date().toLocaleString(),\n    };\n\n    try {\n      await emailjs.send(\n        \"service_exn8agn\",      // Replace with your actual service ID\n        \"template_ufthmxd\",     // Replace with your actual template ID\n        templateParams,\n        \"jIcCGsH2zf7fnK5X3\"     // Replace with your actual PUBLIC key\n      );\n      onOpen(\"success\", `Thanks for your submission ${formData.firstName}, we will get back to you shortly!`);\n    } catch (error) {\n      console.error(\"EmailJS error:\", error);\n      onOpen(\"error\", \"There was an error sending your message. Please try again later.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return { isLoading, submit };\n};\n\nexport default useSubmit;\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,OAAO,KAAM,aAAa,CACjC,OAASC,eAAe,KAAQ,yBAAyB,CAEzD,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,SAAS,CAAEC,UAAU,CAAC,CAAGL,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAAEM,MAAO,CAAC,CAAGJ,eAAe,CAAC,CAAC,CAAE;AAEtC,KAAM,CAAAK,MAAM,CAAG,KAAO,CAAAC,QAAQ,EAAK,CACjCH,UAAU,CAAC,IAAI,CAAC,CAEhB,KAAM,CAAAI,cAAc,CAAG,CACrBC,SAAS,CAAEF,QAAQ,CAACG,SAAS,CAC7BC,UAAU,CAAEJ,QAAQ,CAACK,KAAK,CAC1BC,YAAY,CAAEN,QAAQ,CAACO,OAAO,CAC9BC,OAAO,CAAER,QAAQ,CAACS,OAAO,CACzBC,eAAe,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,cAAc,CAAC,CAC7C,CAAC,CAED,GAAI,CACF,KAAM,CAAAnB,OAAO,CAACoB,IAAI,CAChB,iBAAiB,CAAO;AACxB,kBAAkB,CAAM;AACxBZ,cAAc,CACd,mBAAwB;AAC1B,CAAC,CACDH,MAAM,CAAC,SAAS,CAAE,8BAA8BE,QAAQ,CAACG,SAAS,oCAAoC,CAAC,CACzG,CAAE,MAAOW,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAAC,CACtChB,MAAM,CAAC,OAAO,CAAE,kEAAkE,CAAC,CACrF,CAAC,OAAS,CACRD,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,MAAO,CAAED,SAAS,CAAEG,MAAO,CAAC,CAC9B,CAAC,CAED,cAAe,CAAAJ,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
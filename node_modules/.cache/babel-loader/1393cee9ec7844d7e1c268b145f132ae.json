{"ast":null,"code":"import { isObject, mergeWith } from '@chakra-ui/utils';\nimport { calc } from './calc.mjs';\nimport { cssVar } from './css-var.mjs';\nimport { flattenTokens } from './flatten-tokens.mjs';\nimport { pseudoSelectors } from '../pseudos.mjs';\n\nfunction tokenToCssVar(token, prefix) {\n  return cssVar(String(token).replace(/\\./g, \"-\"), void 0, prefix);\n}\n\nfunction createThemeVars(theme) {\n  var _theme$config;\n\n  const flatTokens = flattenTokens(theme);\n  const cssVarPrefix = (_theme$config = theme.config) === null || _theme$config === void 0 ? void 0 : _theme$config.cssVarPrefix;\n  let cssVars = {};\n  const cssMap = {};\n\n  function lookupToken(token, maybeToken) {\n    const scale = String(token).split(\".\")[0];\n    const withScale = [scale, maybeToken].join(\".\");\n    const resolvedTokenValue = flatTokens[withScale];\n    if (!resolvedTokenValue) return maybeToken;\n    const {\n      reference\n    } = tokenToCssVar(withScale, cssVarPrefix);\n    return reference;\n  }\n\n  for (const [token, tokenValue] of Object.entries(flatTokens)) {\n    const {\n      isSemantic,\n      value\n    } = tokenValue;\n    const {\n      variable,\n      reference\n    } = tokenToCssVar(token, cssVarPrefix);\n\n    if (!isSemantic) {\n      if (token.startsWith(\"space\")) {\n        const keys = token.split(\".\");\n        const [firstKey, ...referenceKeys] = keys;\n        const negativeLookupKey = `${firstKey}.-${referenceKeys.join(\".\")}`;\n        const negativeValue = calc.negate(value);\n        const negatedReference = calc.negate(reference);\n        cssMap[negativeLookupKey] = {\n          value: negativeValue,\n          var: variable,\n          varRef: negatedReference\n        };\n      }\n\n      cssVars[variable] = value;\n      cssMap[token] = {\n        value,\n        var: variable,\n        varRef: reference\n      };\n      continue;\n    }\n\n    const normalizedValue = isObject(value) ? value : {\n      default: value\n    };\n    cssVars = mergeWith(cssVars, Object.entries(normalizedValue).reduce((acc, _ref) => {\n      let [conditionAlias, conditionValue] = _ref;\n      if (!conditionValue) return acc;\n      const tokenReference = lookupToken(token, `${conditionValue}`);\n\n      if (conditionAlias === \"default\") {\n        acc[variable] = tokenReference;\n        return acc;\n      }\n\n      const conditionSelector = (pseudoSelectors === null || pseudoSelectors === void 0 ? void 0 : pseudoSelectors[conditionAlias]) ?? conditionAlias;\n      acc[conditionSelector] = {\n        [variable]: tokenReference\n      };\n      return acc;\n    }, {}));\n    cssMap[token] = {\n      value: reference,\n      var: variable,\n      varRef: reference\n    };\n  }\n\n  return {\n    cssVars,\n    cssMap\n  };\n}\n\nexport { createThemeVars };","map":{"version":3,"names":["isObject","mergeWith","calc","cssVar","flattenTokens","pseudoSelectors","tokenToCssVar","token","prefix","String","replace","createThemeVars","theme","flatTokens","cssVarPrefix","config","cssVars","cssMap","lookupToken","maybeToken","scale","split","withScale","join","resolvedTokenValue","reference","tokenValue","Object","entries","isSemantic","value","variable","startsWith","keys","firstKey","referenceKeys","negativeLookupKey","negativeValue","negate","negatedReference","var","varRef","normalizedValue","default","reduce","acc","conditionAlias","conditionValue","tokenReference","conditionSelector"],"sources":["/workspaces/200508238/develop/node_modules/@chakra-ui/react/node_modules/@chakra-ui/styled-system/dist/esm/create-theme-vars/create-theme-vars.mjs"],"sourcesContent":["import { isObject, mergeWith } from '@chakra-ui/utils';\nimport { calc } from './calc.mjs';\nimport { cssVar } from './css-var.mjs';\nimport { flattenTokens } from './flatten-tokens.mjs';\nimport { pseudoSelectors } from '../pseudos.mjs';\n\nfunction tokenToCssVar(token, prefix) {\n  return cssVar(String(token).replace(/\\./g, \"-\"), void 0, prefix);\n}\nfunction createThemeVars(theme) {\n  const flatTokens = flattenTokens(theme);\n  const cssVarPrefix = theme.config?.cssVarPrefix;\n  let cssVars = {};\n  const cssMap = {};\n  function lookupToken(token, maybeToken) {\n    const scale = String(token).split(\".\")[0];\n    const withScale = [scale, maybeToken].join(\".\");\n    const resolvedTokenValue = flatTokens[withScale];\n    if (!resolvedTokenValue)\n      return maybeToken;\n    const { reference } = tokenToCssVar(withScale, cssVarPrefix);\n    return reference;\n  }\n  for (const [token, tokenValue] of Object.entries(flatTokens)) {\n    const { isSemantic, value } = tokenValue;\n    const { variable, reference } = tokenToCssVar(token, cssVarPrefix);\n    if (!isSemantic) {\n      if (token.startsWith(\"space\")) {\n        const keys = token.split(\".\");\n        const [firstKey, ...referenceKeys] = keys;\n        const negativeLookupKey = `${firstKey}.-${referenceKeys.join(\".\")}`;\n        const negativeValue = calc.negate(value);\n        const negatedReference = calc.negate(reference);\n        cssMap[negativeLookupKey] = {\n          value: negativeValue,\n          var: variable,\n          varRef: negatedReference\n        };\n      }\n      cssVars[variable] = value;\n      cssMap[token] = {\n        value,\n        var: variable,\n        varRef: reference\n      };\n      continue;\n    }\n    const normalizedValue = isObject(value) ? value : { default: value };\n    cssVars = mergeWith(\n      cssVars,\n      Object.entries(normalizedValue).reduce(\n        (acc, [conditionAlias, conditionValue]) => {\n          if (!conditionValue)\n            return acc;\n          const tokenReference = lookupToken(token, `${conditionValue}`);\n          if (conditionAlias === \"default\") {\n            acc[variable] = tokenReference;\n            return acc;\n          }\n          const conditionSelector = pseudoSelectors?.[conditionAlias] ?? conditionAlias;\n          acc[conditionSelector] = { [variable]: tokenReference };\n          return acc;\n        },\n        {}\n      )\n    );\n    cssMap[token] = {\n      value: reference,\n      var: variable,\n      varRef: reference\n    };\n  }\n  return {\n    cssVars,\n    cssMap\n  };\n}\n\nexport { createThemeVars };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
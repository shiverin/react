{"ast":null,"code":"'use client';\n\nimport { mergeRefs } from '@chakra-ui/hooks';\nimport { callAllHandlers } from '@chakra-ui/utils';\nimport { hideOthers } from 'aria-hidden';\nimport { useRef, useCallback, useState, useEffect, useId, useMemo } from 'react';\nimport { useModalManager, modalManager } from './modal-manager.mjs';\n\nfunction useModal(props) {\n  const {\n    isOpen,\n    onClose,\n    id,\n    closeOnOverlayClick = true,\n    closeOnEsc = true,\n    useInert = true,\n    onOverlayClick: onOverlayClickProp,\n    onEsc\n  } = props;\n  const dialogRef = useRef(null);\n  const overlayRef = useRef(null);\n  const [dialogId, headerId, bodyId] = useIds(id, `chakra-modal`, `chakra-modal--header`, `chakra-modal--body`);\n  useAriaHidden(dialogRef, isOpen && useInert);\n  const index = useModalManager(dialogRef, isOpen);\n  const mouseDownTarget = useRef(null);\n  const onMouseDown = useCallback(event => {\n    mouseDownTarget.current = event.target;\n  }, []);\n  const onKeyDown = useCallback(event => {\n    if (event.key === \"Escape\") {\n      event.stopPropagation();\n\n      if (closeOnEsc) {\n        onClose?.();\n      }\n\n      onEsc?.();\n    }\n  }, [closeOnEsc, onClose, onEsc]);\n  const [headerMounted, setHeaderMounted] = useState(false);\n  const [bodyMounted, setBodyMounted] = useState(false);\n  const getDialogProps = useCallback(function () {\n    let props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    return {\n      role: \"dialog\",\n      ...props2,\n      ref: mergeRefs(ref, dialogRef),\n      id: dialogId,\n      tabIndex: -1,\n      \"aria-modal\": true,\n      \"aria-labelledby\": headerMounted ? headerId : void 0,\n      \"aria-describedby\": bodyMounted ? bodyId : void 0,\n      onClick: callAllHandlers(props2.onClick, event => event.stopPropagation())\n    };\n  }, [bodyId, bodyMounted, dialogId, headerId, headerMounted]);\n  const onOverlayClick = useCallback(event => {\n    event.stopPropagation();\n    if (mouseDownTarget.current !== event.target) return;\n    if (!modalManager.isTopModal(dialogRef.current)) return;\n\n    if (closeOnOverlayClick) {\n      onClose?.();\n    }\n\n    onOverlayClickProp?.();\n  }, [onClose, closeOnOverlayClick, onOverlayClickProp]);\n  const getDialogContainerProps = useCallback(function () {\n    let props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    return { ...props2,\n      ref: mergeRefs(ref, overlayRef),\n      onClick: callAllHandlers(props2.onClick, onOverlayClick),\n      onKeyDown: callAllHandlers(props2.onKeyDown, onKeyDown),\n      onMouseDown: callAllHandlers(props2.onMouseDown, onMouseDown)\n    };\n  }, [onKeyDown, onMouseDown, onOverlayClick]);\n  return {\n    isOpen,\n    onClose,\n    headerId,\n    bodyId,\n    setBodyMounted,\n    setHeaderMounted,\n    dialogRef,\n    overlayRef,\n    getDialogProps,\n    getDialogContainerProps,\n    index\n  };\n}\n\nfunction useAriaHidden(ref, shouldHide) {\n  const currentElement = ref.current;\n  useEffect(() => {\n    if (!ref.current || !shouldHide) return void 0;\n    return hideOthers(ref.current);\n  }, [shouldHide, ref, currentElement]);\n}\n\nfunction useIds(idProp) {\n  for (var _len = arguments.length, prefixes = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    prefixes[_key - 1] = arguments[_key];\n  }\n\n  const reactId = useId();\n  const id = idProp || reactId;\n  return useMemo(() => {\n    return prefixes.map(prefix => `${prefix}-${id}`);\n  }, [id, prefixes]);\n}\n\nexport { useAriaHidden, useModal };","map":{"version":3,"names":["mergeRefs","callAllHandlers","hideOthers","useRef","useCallback","useState","useEffect","useId","useMemo","useModalManager","modalManager","useModal","props","isOpen","onClose","id","closeOnOverlayClick","closeOnEsc","useInert","onOverlayClick","onOverlayClickProp","onEsc","dialogRef","overlayRef","dialogId","headerId","bodyId","useIds","useAriaHidden","index","mouseDownTarget","onMouseDown","event","current","target","onKeyDown","key","stopPropagation","headerMounted","setHeaderMounted","bodyMounted","setBodyMounted","getDialogProps","props2","ref","role","tabIndex","onClick","isTopModal","getDialogContainerProps","shouldHide","currentElement","idProp","prefixes","reactId","map","prefix"],"sources":["/workspaces/200508238/develop/node_modules/@chakra-ui/react/dist/esm/modal/use-modal.mjs"],"sourcesContent":["'use client';\nimport { mergeRefs } from '@chakra-ui/hooks';\nimport { callAllHandlers } from '@chakra-ui/utils';\nimport { hideOthers } from 'aria-hidden';\nimport { useRef, useCallback, useState, useEffect, useId, useMemo } from 'react';\nimport { useModalManager, modalManager } from './modal-manager.mjs';\n\nfunction useModal(props) {\n  const {\n    isOpen,\n    onClose,\n    id,\n    closeOnOverlayClick = true,\n    closeOnEsc = true,\n    useInert = true,\n    onOverlayClick: onOverlayClickProp,\n    onEsc\n  } = props;\n  const dialogRef = useRef(null);\n  const overlayRef = useRef(null);\n  const [dialogId, headerId, bodyId] = useIds(\n    id,\n    `chakra-modal`,\n    `chakra-modal--header`,\n    `chakra-modal--body`\n  );\n  useAriaHidden(dialogRef, isOpen && useInert);\n  const index = useModalManager(dialogRef, isOpen);\n  const mouseDownTarget = useRef(null);\n  const onMouseDown = useCallback((event) => {\n    mouseDownTarget.current = event.target;\n  }, []);\n  const onKeyDown = useCallback(\n    (event) => {\n      if (event.key === \"Escape\") {\n        event.stopPropagation();\n        if (closeOnEsc) {\n          onClose?.();\n        }\n        onEsc?.();\n      }\n    },\n    [closeOnEsc, onClose, onEsc]\n  );\n  const [headerMounted, setHeaderMounted] = useState(false);\n  const [bodyMounted, setBodyMounted] = useState(false);\n  const getDialogProps = useCallback(\n    (props2 = {}, ref = null) => ({\n      role: \"dialog\",\n      ...props2,\n      ref: mergeRefs(ref, dialogRef),\n      id: dialogId,\n      tabIndex: -1,\n      \"aria-modal\": true,\n      \"aria-labelledby\": headerMounted ? headerId : void 0,\n      \"aria-describedby\": bodyMounted ? bodyId : void 0,\n      onClick: callAllHandlers(\n        props2.onClick,\n        (event) => event.stopPropagation()\n      )\n    }),\n    [bodyId, bodyMounted, dialogId, headerId, headerMounted]\n  );\n  const onOverlayClick = useCallback(\n    (event) => {\n      event.stopPropagation();\n      if (mouseDownTarget.current !== event.target)\n        return;\n      if (!modalManager.isTopModal(dialogRef.current))\n        return;\n      if (closeOnOverlayClick) {\n        onClose?.();\n      }\n      onOverlayClickProp?.();\n    },\n    [onClose, closeOnOverlayClick, onOverlayClickProp]\n  );\n  const getDialogContainerProps = useCallback(\n    (props2 = {}, ref = null) => ({\n      ...props2,\n      ref: mergeRefs(ref, overlayRef),\n      onClick: callAllHandlers(props2.onClick, onOverlayClick),\n      onKeyDown: callAllHandlers(props2.onKeyDown, onKeyDown),\n      onMouseDown: callAllHandlers(props2.onMouseDown, onMouseDown)\n    }),\n    [onKeyDown, onMouseDown, onOverlayClick]\n  );\n  return {\n    isOpen,\n    onClose,\n    headerId,\n    bodyId,\n    setBodyMounted,\n    setHeaderMounted,\n    dialogRef,\n    overlayRef,\n    getDialogProps,\n    getDialogContainerProps,\n    index\n  };\n}\nfunction useAriaHidden(ref, shouldHide) {\n  const currentElement = ref.current;\n  useEffect(() => {\n    if (!ref.current || !shouldHide)\n      return void 0;\n    return hideOthers(ref.current);\n  }, [shouldHide, ref, currentElement]);\n}\nfunction useIds(idProp, ...prefixes) {\n  const reactId = useId();\n  const id = idProp || reactId;\n  return useMemo(() => {\n    return prefixes.map((prefix) => `${prefix}-${id}`);\n  }, [id, prefixes]);\n}\n\nexport { useAriaHidden, useModal };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
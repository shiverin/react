{"ast":null,"code":"import { useCallback, useRef, useState, useEffect } from 'react';\nimport { createNanoEvents } from './nano-events';\nvar mainbus = createNanoEvents();\nvar subscribeCounter = 0;\n\nvar onFocusIn = function onFocusIn(event) {\n  return mainbus.emit('assign', event.target);\n};\n\nvar onFocusOut = function onFocusOut(event) {\n  return mainbus.emit('reset', event.target);\n};\n\nvar useDocumentFocusSubscribe = function useDocumentFocusSubscribe() {\n  useEffect(function () {\n    if (!subscribeCounter) {\n      document.addEventListener('focusin', onFocusIn);\n      document.addEventListener('focusout', onFocusOut);\n    }\n\n    subscribeCounter += 1;\n    return function () {\n      subscribeCounter -= 1;\n\n      if (!subscribeCounter) {\n        document.removeEventListener('focusin', onFocusIn);\n        document.removeEventListener('focusout', onFocusOut);\n      }\n    };\n  }, []);\n};\n\nvar getFocusState = function getFocusState(target, current) {\n  if (target === current) {\n    return 'self';\n  }\n\n  if (current.contains(target)) {\n    return 'within';\n  }\n\n  return 'within-boundary';\n};\n\nexport var useFocusState = function useFocusState(callbacks) {\n  if (callbacks === void 0) {\n    callbacks = {};\n  }\n\n  var _useState = useState(false),\n      active = _useState[0],\n      setActive = _useState[1];\n\n  var _useState2 = useState(''),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var ref = useRef(null);\n  var focusState = useRef({});\n  var stateTracker = useRef(false);\n  useEffect(function () {\n    if (ref.current) {\n      var isAlreadyFocused = ref.current === document.activeElement || ref.current.contains(document.activeElement);\n      setActive(isAlreadyFocused);\n      setState(getFocusState(document.activeElement, ref.current));\n\n      if (isAlreadyFocused && callbacks.onFocus) {\n        callbacks.onFocus();\n      }\n    }\n  }, []);\n  var onFocus = useCallback(function (e) {\n    focusState.current = {\n      focused: true,\n      state: getFocusState(e.target, e.currentTarget)\n    };\n  }, []);\n  useDocumentFocusSubscribe();\n  useEffect(function () {\n    var fout = mainbus.on('reset', function () {\n      focusState.current = {};\n    });\n    var fin = mainbus.on('assign', function () {\n      var newState = focusState.current.focused || false;\n      setActive(newState);\n      setState(focusState.current.state || '');\n\n      if (newState !== stateTracker.current) {\n        stateTracker.current = newState;\n\n        if (newState) {\n          callbacks.onFocus && callbacks.onFocus();\n        } else {\n          callbacks.onBlur && callbacks.onBlur();\n        }\n      }\n    });\n    return function () {\n      fout();\n      fin();\n    };\n  }, []);\n  return {\n    active: active,\n    state: state,\n    onFocus: onFocus,\n    ref: ref\n  };\n};","map":{"version":3,"names":["useCallback","useRef","useState","useEffect","createNanoEvents","mainbus","subscribeCounter","onFocusIn","event","emit","target","onFocusOut","useDocumentFocusSubscribe","document","addEventListener","removeEventListener","getFocusState","current","contains","useFocusState","callbacks","_useState","active","setActive","_useState2","state","setState","ref","focusState","stateTracker","isAlreadyFocused","activeElement","onFocus","e","focused","currentTarget","fout","on","fin","newState","onBlur"],"sources":["/workspaces/200508238/develop/node_modules/@chakra-ui/react/node_modules/react-focus-lock/dist/es2015/use-focus-state.js"],"sourcesContent":["import { useCallback, useRef, useState, useEffect } from 'react';\nimport { createNanoEvents } from './nano-events';\nvar mainbus = createNanoEvents();\nvar subscribeCounter = 0;\nvar onFocusIn = function onFocusIn(event) {\n  return mainbus.emit('assign', event.target);\n};\nvar onFocusOut = function onFocusOut(event) {\n  return mainbus.emit('reset', event.target);\n};\nvar useDocumentFocusSubscribe = function useDocumentFocusSubscribe() {\n  useEffect(function () {\n    if (!subscribeCounter) {\n      document.addEventListener('focusin', onFocusIn);\n      document.addEventListener('focusout', onFocusOut);\n    }\n    subscribeCounter += 1;\n    return function () {\n      subscribeCounter -= 1;\n      if (!subscribeCounter) {\n        document.removeEventListener('focusin', onFocusIn);\n        document.removeEventListener('focusout', onFocusOut);\n      }\n    };\n  }, []);\n};\nvar getFocusState = function getFocusState(target, current) {\n  if (target === current) {\n    return 'self';\n  }\n  if (current.contains(target)) {\n    return 'within';\n  }\n  return 'within-boundary';\n};\nexport var useFocusState = function useFocusState(callbacks) {\n  if (callbacks === void 0) {\n    callbacks = {};\n  }\n  var _useState = useState(false),\n    active = _useState[0],\n    setActive = _useState[1];\n  var _useState2 = useState(''),\n    state = _useState2[0],\n    setState = _useState2[1];\n  var ref = useRef(null);\n  var focusState = useRef({});\n  var stateTracker = useRef(false);\n  useEffect(function () {\n    if (ref.current) {\n      var isAlreadyFocused = ref.current === document.activeElement || ref.current.contains(document.activeElement);\n      setActive(isAlreadyFocused);\n      setState(getFocusState(document.activeElement, ref.current));\n      if (isAlreadyFocused && callbacks.onFocus) {\n        callbacks.onFocus();\n      }\n    }\n  }, []);\n  var onFocus = useCallback(function (e) {\n    focusState.current = {\n      focused: true,\n      state: getFocusState(e.target, e.currentTarget)\n    };\n  }, []);\n  useDocumentFocusSubscribe();\n  useEffect(function () {\n    var fout = mainbus.on('reset', function () {\n      focusState.current = {};\n    });\n    var fin = mainbus.on('assign', function () {\n      var newState = focusState.current.focused || false;\n      setActive(newState);\n      setState(focusState.current.state || '');\n      if (newState !== stateTracker.current) {\n        stateTracker.current = newState;\n        if (newState) {\n          callbacks.onFocus && callbacks.onFocus();\n        } else {\n          callbacks.onBlur && callbacks.onBlur();\n        }\n      }\n    });\n    return function () {\n      fout();\n      fin();\n    };\n  }, []);\n  return {\n    active: active,\n    state: state,\n    onFocus: onFocus,\n    ref: ref\n  };\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}
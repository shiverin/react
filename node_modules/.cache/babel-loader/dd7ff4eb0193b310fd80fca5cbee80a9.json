{"ast":null,"code":"import { __spreadArray } from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScrollBar } from 'react-remove-scroll-bar';\nimport { styleSingleton } from 'react-style-singleton';\nimport { nonPassive } from './aggresiveCapture';\nimport { handleScroll, locationCouldBeScrolled } from './handleScroll';\nexport var getTouchXY = function (event) {\n  return 'changedTouches' in event ? [event.changedTouches[0].clientX, event.changedTouches[0].clientY] : [0, 0];\n};\nexport var getDeltaXY = function (event) {\n  return [event.deltaX, event.deltaY];\n};\n\nvar extractRef = function (ref) {\n  return ref && 'current' in ref ? ref.current : ref;\n};\n\nvar deltaCompare = function (x, y) {\n  return x[0] === y[0] && x[1] === y[1];\n};\n\nvar generateStyle = function (id) {\n  return \"\\n  .block-interactivity-\".concat(id, \" {pointer-events: none;}\\n  .allow-interactivity-\").concat(id, \" {pointer-events: all;}\\n\");\n};\n\nvar idCounter = 0;\nvar lockStack = [];\nexport function RemoveScrollSideCar(props) {\n  var shouldPreventQueue = React.useRef([]);\n  var touchStartRef = React.useRef([0, 0]);\n  var activeAxis = React.useRef();\n  var id = React.useState(idCounter++)[0];\n  var Style = React.useState(styleSingleton)[0];\n  var lastProps = React.useRef(props);\n  React.useEffect(function () {\n    lastProps.current = props;\n  }, [props]);\n  React.useEffect(function () {\n    if (props.inert) {\n      document.body.classList.add(\"block-interactivity-\".concat(id));\n\n      var allow_1 = __spreadArray([props.lockRef.current], (props.shards || []).map(extractRef), true).filter(Boolean);\n\n      allow_1.forEach(function (el) {\n        return el.classList.add(\"allow-interactivity-\".concat(id));\n      });\n      return function () {\n        document.body.classList.remove(\"block-interactivity-\".concat(id));\n        allow_1.forEach(function (el) {\n          return el.classList.remove(\"allow-interactivity-\".concat(id));\n        });\n      };\n    }\n\n    return;\n  }, [props.inert, props.lockRef.current, props.shards]);\n  var shouldCancelEvent = React.useCallback(function (event, parent) {\n    if ('touches' in event && event.touches.length === 2 || event.type === 'wheel' && event.ctrlKey) {\n      return !lastProps.current.allowPinchZoom;\n    }\n\n    var touch = getTouchXY(event);\n    var touchStart = touchStartRef.current;\n    var deltaX = 'deltaX' in event ? event.deltaX : touchStart[0] - touch[0];\n    var deltaY = 'deltaY' in event ? event.deltaY : touchStart[1] - touch[1];\n    var currentAxis;\n    var target = event.target;\n    var moveDirection = Math.abs(deltaX) > Math.abs(deltaY) ? 'h' : 'v'; // allow horizontal touch move on Range inputs. They will not cause any scroll\n\n    if ('touches' in event && moveDirection === 'h' && target.type === 'range') {\n      return false;\n    }\n\n    var canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n\n    if (!canBeScrolledInMainDirection) {\n      return true;\n    }\n\n    if (canBeScrolledInMainDirection) {\n      currentAxis = moveDirection;\n    } else {\n      currentAxis = moveDirection === 'v' ? 'h' : 'v';\n      canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target); // other axis might be not scrollable\n    }\n\n    if (!canBeScrolledInMainDirection) {\n      return false;\n    }\n\n    if (!activeAxis.current && 'changedTouches' in event && (deltaX || deltaY)) {\n      activeAxis.current = currentAxis;\n    }\n\n    if (!currentAxis) {\n      return true;\n    }\n\n    var cancelingAxis = activeAxis.current || currentAxis;\n    return handleScroll(cancelingAxis, parent, event, cancelingAxis === 'h' ? deltaX : deltaY, true);\n  }, []);\n  var shouldPrevent = React.useCallback(function (_event) {\n    var event = _event;\n\n    if (!lockStack.length || lockStack[lockStack.length - 1] !== Style) {\n      // not the last active\n      return;\n    }\n\n    var delta = 'deltaY' in event ? getDeltaXY(event) : getTouchXY(event);\n    var sourceEvent = shouldPreventQueue.current.filter(function (e) {\n      return e.name === event.type && (e.target === event.target || event.target === e.shadowParent) && deltaCompare(e.delta, delta);\n    })[0]; // self event, and should be canceled\n\n    if (sourceEvent && sourceEvent.should) {\n      if (event.cancelable) {\n        event.preventDefault();\n      }\n\n      return;\n    } // outside or shard event\n\n\n    if (!sourceEvent) {\n      var shardNodes = (lastProps.current.shards || []).map(extractRef).filter(Boolean).filter(function (node) {\n        return node.contains(event.target);\n      });\n      var shouldStop = shardNodes.length > 0 ? shouldCancelEvent(event, shardNodes[0]) : !lastProps.current.noIsolation;\n\n      if (shouldStop) {\n        if (event.cancelable) {\n          event.preventDefault();\n        }\n      }\n    }\n  }, []);\n  var shouldCancel = React.useCallback(function (name, delta, target, should) {\n    var event = {\n      name: name,\n      delta: delta,\n      target: target,\n      should: should,\n      shadowParent: getOutermostShadowParent(target)\n    };\n    shouldPreventQueue.current.push(event);\n    setTimeout(function () {\n      shouldPreventQueue.current = shouldPreventQueue.current.filter(function (e) {\n        return e !== event;\n      });\n    }, 1);\n  }, []);\n  var scrollTouchStart = React.useCallback(function (event) {\n    touchStartRef.current = getTouchXY(event);\n    activeAxis.current = undefined;\n  }, []);\n  var scrollWheel = React.useCallback(function (event) {\n    shouldCancel(event.type, getDeltaXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n  }, []);\n  var scrollTouchMove = React.useCallback(function (event) {\n    shouldCancel(event.type, getTouchXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n  }, []);\n  React.useEffect(function () {\n    lockStack.push(Style);\n    props.setCallbacks({\n      onScrollCapture: scrollWheel,\n      onWheelCapture: scrollWheel,\n      onTouchMoveCapture: scrollTouchMove\n    });\n    document.addEventListener('wheel', shouldPrevent, nonPassive);\n    document.addEventListener('touchmove', shouldPrevent, nonPassive);\n    document.addEventListener('touchstart', scrollTouchStart, nonPassive);\n    return function () {\n      lockStack = lockStack.filter(function (inst) {\n        return inst !== Style;\n      });\n      document.removeEventListener('wheel', shouldPrevent, nonPassive);\n      document.removeEventListener('touchmove', shouldPrevent, nonPassive);\n      document.removeEventListener('touchstart', scrollTouchStart, nonPassive);\n    };\n  }, []);\n  var removeScrollBar = props.removeScrollBar,\n      inert = props.inert;\n  return React.createElement(React.Fragment, null, inert ? React.createElement(Style, {\n    styles: generateStyle(id)\n  }) : null, removeScrollBar ? React.createElement(RemoveScrollBar, {\n    gapMode: props.gapMode\n  }) : null);\n}\n\nfunction getOutermostShadowParent(node) {\n  var shadowParent = null;\n\n  while (node !== null) {\n    if (node instanceof ShadowRoot) {\n      shadowParent = node.host;\n      node = node.host;\n    }\n\n    node = node.parentNode;\n  }\n\n  return shadowParent;\n}","map":{"version":3,"names":["__spreadArray","React","RemoveScrollBar","styleSingleton","nonPassive","handleScroll","locationCouldBeScrolled","getTouchXY","event","changedTouches","clientX","clientY","getDeltaXY","deltaX","deltaY","extractRef","ref","current","deltaCompare","x","y","generateStyle","id","concat","idCounter","lockStack","RemoveScrollSideCar","props","shouldPreventQueue","useRef","touchStartRef","activeAxis","useState","Style","lastProps","useEffect","inert","document","body","classList","add","allow_1","lockRef","shards","map","filter","Boolean","forEach","el","remove","shouldCancelEvent","useCallback","parent","touches","length","type","ctrlKey","allowPinchZoom","touch","touchStart","currentAxis","target","moveDirection","Math","abs","canBeScrolledInMainDirection","cancelingAxis","shouldPrevent","_event","delta","sourceEvent","e","name","shadowParent","should","cancelable","preventDefault","shardNodes","node","contains","shouldStop","noIsolation","shouldCancel","getOutermostShadowParent","push","setTimeout","scrollTouchStart","undefined","scrollWheel","scrollTouchMove","setCallbacks","onScrollCapture","onWheelCapture","onTouchMoveCapture","addEventListener","inst","removeEventListener","removeScrollBar","createElement","Fragment","styles","gapMode","ShadowRoot","host","parentNode"],"sources":["/workspaces/200508238/develop/node_modules/@chakra-ui/react/node_modules/react-remove-scroll/dist/es2015/SideEffect.js"],"sourcesContent":["import { __spreadArray } from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScrollBar } from 'react-remove-scroll-bar';\nimport { styleSingleton } from 'react-style-singleton';\nimport { nonPassive } from './aggresiveCapture';\nimport { handleScroll, locationCouldBeScrolled } from './handleScroll';\nexport var getTouchXY = function (event) {\n    return 'changedTouches' in event ? [event.changedTouches[0].clientX, event.changedTouches[0].clientY] : [0, 0];\n};\nexport var getDeltaXY = function (event) { return [event.deltaX, event.deltaY]; };\nvar extractRef = function (ref) {\n    return ref && 'current' in ref ? ref.current : ref;\n};\nvar deltaCompare = function (x, y) { return x[0] === y[0] && x[1] === y[1]; };\nvar generateStyle = function (id) { return \"\\n  .block-interactivity-\".concat(id, \" {pointer-events: none;}\\n  .allow-interactivity-\").concat(id, \" {pointer-events: all;}\\n\"); };\nvar idCounter = 0;\nvar lockStack = [];\nexport function RemoveScrollSideCar(props) {\n    var shouldPreventQueue = React.useRef([]);\n    var touchStartRef = React.useRef([0, 0]);\n    var activeAxis = React.useRef();\n    var id = React.useState(idCounter++)[0];\n    var Style = React.useState(styleSingleton)[0];\n    var lastProps = React.useRef(props);\n    React.useEffect(function () {\n        lastProps.current = props;\n    }, [props]);\n    React.useEffect(function () {\n        if (props.inert) {\n            document.body.classList.add(\"block-interactivity-\".concat(id));\n            var allow_1 = __spreadArray([props.lockRef.current], (props.shards || []).map(extractRef), true).filter(Boolean);\n            allow_1.forEach(function (el) { return el.classList.add(\"allow-interactivity-\".concat(id)); });\n            return function () {\n                document.body.classList.remove(\"block-interactivity-\".concat(id));\n                allow_1.forEach(function (el) { return el.classList.remove(\"allow-interactivity-\".concat(id)); });\n            };\n        }\n        return;\n    }, [props.inert, props.lockRef.current, props.shards]);\n    var shouldCancelEvent = React.useCallback(function (event, parent) {\n        if (('touches' in event && event.touches.length === 2) || (event.type === 'wheel' && event.ctrlKey)) {\n            return !lastProps.current.allowPinchZoom;\n        }\n        var touch = getTouchXY(event);\n        var touchStart = touchStartRef.current;\n        var deltaX = 'deltaX' in event ? event.deltaX : touchStart[0] - touch[0];\n        var deltaY = 'deltaY' in event ? event.deltaY : touchStart[1] - touch[1];\n        var currentAxis;\n        var target = event.target;\n        var moveDirection = Math.abs(deltaX) > Math.abs(deltaY) ? 'h' : 'v';\n        // allow horizontal touch move on Range inputs. They will not cause any scroll\n        if ('touches' in event && moveDirection === 'h' && target.type === 'range') {\n            return false;\n        }\n        var canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n        if (!canBeScrolledInMainDirection) {\n            return true;\n        }\n        if (canBeScrolledInMainDirection) {\n            currentAxis = moveDirection;\n        }\n        else {\n            currentAxis = moveDirection === 'v' ? 'h' : 'v';\n            canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n            // other axis might be not scrollable\n        }\n        if (!canBeScrolledInMainDirection) {\n            return false;\n        }\n        if (!activeAxis.current && 'changedTouches' in event && (deltaX || deltaY)) {\n            activeAxis.current = currentAxis;\n        }\n        if (!currentAxis) {\n            return true;\n        }\n        var cancelingAxis = activeAxis.current || currentAxis;\n        return handleScroll(cancelingAxis, parent, event, cancelingAxis === 'h' ? deltaX : deltaY, true);\n    }, []);\n    var shouldPrevent = React.useCallback(function (_event) {\n        var event = _event;\n        if (!lockStack.length || lockStack[lockStack.length - 1] !== Style) {\n            // not the last active\n            return;\n        }\n        var delta = 'deltaY' in event ? getDeltaXY(event) : getTouchXY(event);\n        var sourceEvent = shouldPreventQueue.current.filter(function (e) { return e.name === event.type && (e.target === event.target || event.target === e.shadowParent) && deltaCompare(e.delta, delta); })[0];\n        // self event, and should be canceled\n        if (sourceEvent && sourceEvent.should) {\n            if (event.cancelable) {\n                event.preventDefault();\n            }\n            return;\n        }\n        // outside or shard event\n        if (!sourceEvent) {\n            var shardNodes = (lastProps.current.shards || [])\n                .map(extractRef)\n                .filter(Boolean)\n                .filter(function (node) { return node.contains(event.target); });\n            var shouldStop = shardNodes.length > 0 ? shouldCancelEvent(event, shardNodes[0]) : !lastProps.current.noIsolation;\n            if (shouldStop) {\n                if (event.cancelable) {\n                    event.preventDefault();\n                }\n            }\n        }\n    }, []);\n    var shouldCancel = React.useCallback(function (name, delta, target, should) {\n        var event = { name: name, delta: delta, target: target, should: should, shadowParent: getOutermostShadowParent(target) };\n        shouldPreventQueue.current.push(event);\n        setTimeout(function () {\n            shouldPreventQueue.current = shouldPreventQueue.current.filter(function (e) { return e !== event; });\n        }, 1);\n    }, []);\n    var scrollTouchStart = React.useCallback(function (event) {\n        touchStartRef.current = getTouchXY(event);\n        activeAxis.current = undefined;\n    }, []);\n    var scrollWheel = React.useCallback(function (event) {\n        shouldCancel(event.type, getDeltaXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    var scrollTouchMove = React.useCallback(function (event) {\n        shouldCancel(event.type, getTouchXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    React.useEffect(function () {\n        lockStack.push(Style);\n        props.setCallbacks({\n            onScrollCapture: scrollWheel,\n            onWheelCapture: scrollWheel,\n            onTouchMoveCapture: scrollTouchMove,\n        });\n        document.addEventListener('wheel', shouldPrevent, nonPassive);\n        document.addEventListener('touchmove', shouldPrevent, nonPassive);\n        document.addEventListener('touchstart', scrollTouchStart, nonPassive);\n        return function () {\n            lockStack = lockStack.filter(function (inst) { return inst !== Style; });\n            document.removeEventListener('wheel', shouldPrevent, nonPassive);\n            document.removeEventListener('touchmove', shouldPrevent, nonPassive);\n            document.removeEventListener('touchstart', scrollTouchStart, nonPassive);\n        };\n    }, []);\n    var removeScrollBar = props.removeScrollBar, inert = props.inert;\n    return (React.createElement(React.Fragment, null,\n        inert ? React.createElement(Style, { styles: generateStyle(id) }) : null,\n        removeScrollBar ? React.createElement(RemoveScrollBar, { gapMode: props.gapMode }) : null));\n}\nfunction getOutermostShadowParent(node) {\n    var shadowParent = null;\n    while (node !== null) {\n        if (node instanceof ShadowRoot) {\n            shadowParent = node.host;\n            node = node.host;\n        }\n        node = node.parentNode;\n    }\n    return shadowParent;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}